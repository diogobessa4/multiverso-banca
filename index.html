<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multiverso — Banca Geek</title>
<link rel="icon" type="image/png" href="data:image/png;base64,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">
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Rajdhani:wght@400;600;700&family=Space+Mono&display=swap" rel="stylesheet">

<!-- ╔══════════════════════════════════════════════════════════╗
     ║  CONFIGURAÇÃO FIREBASE — COLE SEUS DADOS AQUI          ║
     ║  Substitua cada valor entre aspas pelo valor real       ║
     ║  que você copiou do Console do Firebase.                ║
     ╚══════════════════════════════════════════════════════════╝ -->
<script>
(function() {
  try {
    var firebaseConfig = {
      apiKey:            "AIzaSyCO3FVw7ydaqr0_2N9AlB9rYj9UTkXtlGQ",
      authDomain:        "multiverso-banca.firebaseapp.com",
      projectId:         "multiverso-banca",
      storageBucket:     "multiverso-banca.firebasestorage.app",
      messagingSenderId: "15821286059",
      appId:             "1:15821286059:web:385ffd2162ad55e005e5ee"
    };

    // Verifica se as credenciais foram preenchidas
    var notConfigured = Object.values(firebaseConfig).some(function(v) {
      return !v || v.indexOf("COLE_AQUI") !== -1 || v.trim() === "";
    });

    window.__FB_CONFIGURED__ = !notConfigured;

    if (!notConfigured) {
      firebase.initializeApp(firebaseConfig);
      window.db = firebase.firestore();
      window.auth = firebase.auth();
    }
  } catch(e) {
    window.__FB_CONFIGURED__ = false;
    window.__FB_ERROR__ = e.message;
    console.error("Firebase init error:", e);
  }
})();
</script>

<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --void:#08090d;--deep:#0d0e1a;--panel:#111322;--card:#161828;
  --accent:#ff3c5f;--neon:#6ED741;--gold:#ffd600;--green:#4ade80;--purple:#b388ff;--orange:#ff8a65;
  --text:#e8eaf0;--muted:#5a6278;
  --border:rgba(110,215,65,.10);--border-hot:rgba(255,60,95,.25);
}
/* ── TEMA CLARO ── */
body[data-theme="light"]{
  --void:#f0f2fa;--deep:#e4e8f5;--panel:#ffffff;--card:#f5f7ff;
  --accent:#d4163c;--neon:#2E8A0F;--gold:#b36a00;--green:#166534;--purple:#6d28d9;--orange:#c2410c;
  --text:#0f1120;--muted:#4b5563;
  --border:rgba(46,138,15,.13);--border-hot:rgba(210,0,50,.2);
}
body[data-theme="light"] ::-webkit-scrollbar-thumb{background:#d4163c}
body[data-theme="light"] .nav{background:rgba(240,242,250,.97)}
body[data-theme="light"] select option{background:#fff;color:#0f1120}
body[data-theme="light"] .logo{background:linear-gradient(135deg,#2E8A0F,#d4163c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
body[data-theme="light"] .logo-gold{-webkit-text-fill-color:#b36a00}
body[data-theme="light"] .nav-tab{color:#4b5563;border-color:rgba(46,138,15,.15)}
body[data-theme="light"] .nav-tab:hover{color:#2E8A0F;border-color:rgba(46,138,15,.4)}
body[data-theme="light"] .nav-tab.active{color:#2E8A0F;border-color:#2E8A0F;background:rgba(46,138,15,.08)}
body[data-theme="light"] .btn-ghost{color:#2E8A0F;border-color:rgba(0,85,204,.4)}
body[data-theme="light"] .btn-ghost:hover{background:rgba(46,138,15,.07)}
body[data-theme="light"] .btn-neon{color:#2E8A0F;border-color:#2E8A0F}
body[data-theme="light"] .btn-neon:hover{background:rgba(46,138,15,.08)}
body[data-theme="light"] .marquee-bar{background:linear-gradient(90deg,#d4163c,#9b0d2a)}
body[data-theme="light"] .line-neon{background:linear-gradient(90deg,#2E8A0F,#b36a00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
body[data-theme="light"] .hero-tag{color:#2E8A0F}
body[data-theme="light"] .comic-bg{background-image:linear-gradient(rgba(46,138,15,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(46,138,15,.04) 1px,transparent 1px)}
body[data-theme="light"] .section-tag{color:#2E8A0F}
body[data-theme="light"] .product-price{color:#2E8A0F}
body[data-theme="light"] .modal-box{background:#fff}
body[data-theme="light"] .form-panel{background:#f5f7ff;border-color:rgba(46,138,15,.2);border-top-color:#2E8A0F}
body[data-theme="light"] .form-title{color:#2E8A0F}
body[data-theme="light"] .field-input{background:#eef0f8;border-color:rgba(46,138,15,.15);color:#0f1120}
body[data-theme="light"] .field-input:focus{border-color:#2E8A0F;box-shadow:0 0 0 3px rgba(46,138,15,.08)}
body[data-theme="light"] .contacts-box{background:#eef0f8;color:#0f1120}
body[data-theme="light"] input[type=date]::-webkit-calendar-picker-indicator{filter:none}
/* ── TEMA ACESSIBILIDADE ── */
body[data-theme="access"]{
  --void:#000;--deep:#0d0d0d;--panel:#1a1a1a;--card:#222;
  --accent:#ff6600;--neon:#ffff00;--gold:#fff;--green:#00ff88;--purple:#ff88ff;--orange:#ff8844;
  --text:#fff;--muted:#bbb;
  --border:rgba(255,255,255,.25);--border-hot:rgba(255,100,0,.5);
}
body[data-theme="access"] *{animation-duration:0.001s!important;transition-duration:0.05s!important}
body[data-theme="access"] .logo{background:none;-webkit-text-fill-color:#ffff00}
body[data-theme="access"] .logo-gold{-webkit-text-fill-color:#ff6600}
body[data-theme="access"] .line-neon{background:none;-webkit-text-fill-color:#ffff00}
body[data-theme="access"] .hero-tag{color:#ffff00}
body[data-theme="access"] .section-tag{color:#ffff00;font-size:.72rem}
body[data-theme="access"] .product-price{color:#ffff00;font-size:1.9rem}
body[data-theme="access"] .nav-tab{font-size:.68rem;border-width:2px}
body[data-theme="access"] .nav-tab.active{color:#000;background:#ffff00;border-color:#ffff00}
body[data-theme="access"] .nav-tab:hover{color:#ffff00;border-color:#ffff00}
body[data-theme="access"] .btn-primary{clip-path:none;font-size:1.1rem;border:2px solid #ff6600}
body[data-theme="access"] .btn-ghost{color:#ffff00;border-color:#ffff00;border-width:2px;font-size:.72rem}
body[data-theme="access"] .btn-neon{color:#ffff00;border-color:#ffff00;border-width:2px}
body[data-theme="access"] .marquee-bar{background:#ff6600}
body[data-theme="access"] .product-card{border-width:2px}
body[data-theme="access"] .product-card:hover{border-color:#ffff00;transform:none;box-shadow:0 0 0 3px #ffff00}
body[data-theme="access"] .badge{border-width:2px;font-size:.65rem;padding:4px 10px}
body[data-theme="access"] .field-input{border-width:2px;font-size:1.05rem}
body[data-theme="access"] .field-input:focus{border-color:#ffff00;box-shadow:0 0 0 4px rgba(255,255,0,.25)}
body[data-theme="access"] .field-label{font-size:.7rem;color:#bbb}
body[data-theme="access"] .modal-box{border-width:3px;border-top-width:4px;border-top-color:#ffff00}
body[data-theme="access"] .form-panel{border-width:2px;border-top-color:#ffff00}
body[data-theme="access"] .form-title{color:#ffff00;font-size:1.6rem}
body[data-theme="access"] .launch-item{border-left-width:4px}
body[data-theme="access"] .product-name{font-size:1.05rem}
body[data-theme="access"] .stat-num{font-size:3rem}
body[data-theme="access"] *:focus-visible{outline:3px solid #ffff00!important;outline-offset:3px!important}

html{scroll-behavior:smooth}
body{background:var(--void);color:var(--text);font-family:'Rajdhani',sans-serif;overflow-x:hidden;-webkit-font-smoothing:antialiased}
::-webkit-scrollbar{width:3px}::-webkit-scrollbar-track{background:var(--void)}::-webkit-scrollbar-thumb{background:var(--accent)}
select option{background:var(--panel)}
input[type=date]::-webkit-calendar-picker-indicator{filter:invert(.6);cursor:pointer}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes glow{0%,100%{opacity:.5}50%{opacity:1}}
@keyframes marquee{from{transform:translateX(0)}to{transform:translateX(-50%)}}
@keyframes panelIn{from{opacity:0;transform:scale(.97)}to{opacity:1;transform:scale(1)}}
@keyframes toastIn{from{opacity:0;transform:translateY(12px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes modalIn{from{opacity:0;transform:translateY(20px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

.nav{position:fixed;top:0;left:0;right:0;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:60px;background:rgba(8,9,13,.95);border-bottom:1px solid var(--border);backdrop-filter:blur(16px)}
.logo{font-family:'Bebas Neue',sans-serif;font-size:1.7rem;letter-spacing:4px;background:linear-gradient(135deg,#6ED741 0%,#A8FF3E 50%,#FFD600 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;cursor:pointer;user-select:none}
.logo-gold{-webkit-text-fill-color:var(--gold)}
.nav-tab{font-family:'Space Mono',monospace;font-size:.6rem;letter-spacing:2px;padding:7px 14px;border:1px solid var(--border);background:transparent;color:var(--muted);cursor:pointer;text-transform:uppercase;transition:all .2s;white-space:nowrap;position:relative}
.nav-tab:hover{color:var(--neon);border-color:rgba(110,215,65,.3)}
.nav-tab.active{color:var(--neon);border-color:var(--neon);background:rgba(110,215,65,.10)}
.nav-badge{position:absolute;top:-5px;right:-5px;background:var(--accent);color:#fff;border-radius:50%;width:16px;height:16px;font-size:.5rem;display:flex;align-items:center;justify-content:center;font-family:monospace}

.btn-primary{background:var(--accent);color:#fff;border:none;padding:12px 28px;font-family:'Bebas Neue',sans-serif;font-size:1.05rem;letter-spacing:3px;cursor:pointer;clip-path:polygon(10px 0%,100% 0%,calc(100% - 10px) 100%,0% 100%);transition:all .18s;text-decoration:none;display:inline-block}
.btn-primary:hover{background:#e02d4f;transform:translateY(-1px);box-shadow:0 6px 24px rgba(255,60,95,.35)}
.btn-primary:active{transform:scale(.96)}
.btn-primary:disabled{opacity:.5;cursor:not-allowed;transform:none}
.btn-ghost{background:transparent;color:var(--neon);border:1px solid rgba(110,215,65,.4);padding:11px 24px;font-family:'Space Mono',monospace;font-size:.65rem;letter-spacing:2px;cursor:pointer;text-transform:uppercase;transition:all .18s;text-decoration:none;display:inline-block}
.btn-ghost:hover{background:rgba(110,215,65,.10);border-color:var(--neon)}
.btn-ghost:active{transform:scale(.96)}
.btn-neon{background:transparent;color:var(--neon);border:1px solid var(--neon);padding:8px 16px;font-family:'Space Mono',monospace;font-size:.6rem;letter-spacing:2px;cursor:pointer;text-transform:uppercase;transition:all .18s;white-space:nowrap}
.btn-neon:hover{background:rgba(110,215,65,.1)}
.btn-neon:active{transform:scale(.96)}
.btn-danger{background:transparent;color:var(--accent);border:1px solid var(--border-hot);padding:6px 12px;font-family:'Space Mono',monospace;font-size:.6rem;cursor:pointer;transition:all .18s}
.btn-danger:hover{background:rgba(255,60,95,.1)}
.btn-whatsapp{background:#25D366;color:#fff;border:none;padding:8px 16px;font-family:'Bebas Neue',sans-serif;font-size:.9rem;letter-spacing:2px;cursor:pointer;transition:all .18s;display:inline-flex;align-items:center;gap:6px}
.btn-whatsapp:hover{background:#1ebe5a;transform:translateY(-1px)}
.btn-sm{background:transparent;color:var(--neon);border:1px solid rgba(110,215,65,.3);padding:5px 10px;font-size:.72rem;cursor:pointer;transition:all .18s}
.btn-sm:hover{background:rgba(110,215,65,.1)}
.btn-stock{background:var(--panel);border:1px solid var(--border);color:var(--text);width:28px;height:28px;cursor:pointer;font-size:1rem;font-weight:bold;transition:all .15s;display:flex;align-items:center;justify-content:center;flex-shrink:0;line-height:1}
.btn-stock:hover{border-color:var(--neon);color:var(--neon);background:rgba(110,215,65,.10)}
.btn-stock:active{transform:scale(.88)}
.btn-stock:disabled{opacity:.3;cursor:not-allowed}

.field-label{font-family:'Space Mono',monospace;font-size:.58rem;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-bottom:5px;display:block}
.field-input{background:var(--deep);border:1px solid var(--border);color:var(--text);padding:11px 14px;font-family:'Rajdhani',sans-serif;font-size:1rem;font-weight:500;width:100%;outline:none;transition:border-color .2s,box-shadow .2s;margin-bottom:12px}
.field-input:focus{border-color:var(--neon);box-shadow:0 0 0 3px rgba(110,215,65,.07)}
.field-input::placeholder{color:var(--muted)}

.section{padding:72px 24px}
.s-container{max-width:940px;margin:0 auto}
.section-tag{font-family:'Space Mono',monospace;font-size:.58rem;color:var(--neon);letter-spacing:3px;text-transform:uppercase;margin-bottom:8px}
.section-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(1.8rem,4vw,2.8rem);letter-spacing:2px;line-height:1}
.section-head{display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:28px;padding-bottom:16px;border-bottom:1px solid var(--border);flex-wrap:wrap;gap:12px}

.hero{min-height:100svh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:80px 24px 60px;position:relative;overflow:hidden}

.hero-logo-bg{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:min(520px,80vw);
  height:min(520px,80vw);
  background:url("data:image/png;base64,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") center/contain no-repeat;
  opacity:0.07;
  pointer-events:none;
  z-index:0;
}
.comic-bg{position:absolute;inset:0;background-image:linear-gradient(rgba(110,215,65,.025) 1px,transparent 1px),linear-gradient(90deg,rgba(110,215,65,.025) 1px,transparent 1px);background-size:48px 48px;pointer-events:none}
.hero-glow{position:absolute;border-radius:50%;pointer-events:none}
.hero-glow-1{width:500px;height:500px;background:radial-gradient(circle,rgba(255,60,95,.12) 0%,transparent 70%);top:-100px;left:-100px;animation:glow 4s ease-in-out infinite}
.hero-glow-2{width:600px;height:600px;background:radial-gradient(circle,rgba(110,215,65,.10) 0%,transparent 70%);bottom:-150px;right:-150px;animation:glow 5s ease-in-out infinite reverse}
.hero-tag{font-family:'Space Mono',monospace;font-size:.65rem;color:var(--neon);letter-spacing:5px;text-transform:uppercase;margin-bottom:20px;display:flex;align-items:center;gap:10px;animation:fadeUp .6s ease both;position:relative;z-index:1}
.hero-tag::before,.hero-tag::after{content:'';width:32px;height:1px;background:var(--neon);opacity:.5}
.hero h1{font-family:'Bebas Neue',sans-serif;font-size:clamp(4.5rem,14vw,9rem);line-height:.88;letter-spacing:3px;margin-bottom:24px;animation:fadeUp .6s ease .1s both;position:relative;z-index:1}
.line-neon{display:block;background:linear-gradient(90deg,#6ED741,#A8FF3E,#FFD600);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-desc{max-width:420px;font-size:1.05rem;color:var(--muted);line-height:1.7;margin-bottom:36px;animation:fadeUp .6s ease .2s both;position:relative;z-index:1}
.hero-actions{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;animation:fadeUp .6s ease .3s both;position:relative;z-index:1}

.marquee-bar{background:linear-gradient(90deg,var(--accent),#c8213d);padding:11px 0;overflow:hidden;white-space:nowrap}
.marquee-track{display:inline-flex;animation:marquee 22s linear infinite}
.marquee-item{font-family:'Bebas Neue',sans-serif;font-size:.95rem;letter-spacing:4px;padding:0 32px;opacity:.9}
.marquee-dot{color:rgba(255,255,255,.4);padding:0 4px}

.badge{display:inline-flex;align-items:center;gap:5px;padding:3px 9px;font-family:'Space Mono',monospace;font-size:.55rem;letter-spacing:1px;border:1px solid;border-radius:2px}
.badge-dot{width:5px;height:5px;border-radius:50%;background:currentColor;animation:glow 2s ease-in-out infinite}

.catalog-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:2px}
.product-card{background:var(--panel);border:1px solid var(--border);overflow:hidden;transition:all .25s;cursor:pointer;position:relative}
.product-card:hover{border-color:rgba(110,215,65,.35);transform:translateY(-3px);box-shadow:0 12px 40px rgba(0,0,0,.4)}
.product-thumb{height:190px;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center}
.product-thumb img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .4s}
.product-card:hover .product-thumb img{transform:scale(1.06)}
.product-placeholder{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;position:relative;overflow:hidden}
.placeholder-cat{font-family:'Bebas Neue',sans-serif;font-size:3.5rem;letter-spacing:2px;color:rgba(255,255,255,.06);position:absolute;bottom:-8px;left:0;right:0;text-align:center;line-height:1}
.placeholder-icon{font-size:2rem;opacity:.2;position:relative;z-index:1}
.placeholder-label{font-family:'Space Mono',monospace;font-size:.55rem;letter-spacing:2px;color:rgba(255,255,255,.18);text-transform:uppercase;position:relative;z-index:1}
.stock-bar-wrap{height:2px;background:rgba(255,255,255,.05);margin:10px 0 6px;border-radius:1px;overflow:hidden}
.stock-bar{height:100%;border-radius:1px;transition:width .5s ease}
.product-info{padding:14px 16px 16px}
.product-cat{font-family:'Space Mono',monospace;font-size:.55rem;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-bottom:5px}
.product-name{font-weight:700;font-size:.98rem;line-height:1.3;margin-bottom:12px}
.product-footer{display:flex;align-items:center;justify-content:space-between}
.product-price{font-family:'Bebas Neue',sans-serif;font-size:1.6rem;color:var(--neon);letter-spacing:1px;line-height:1}
.wish-badge{position:absolute;top:8px;right:8px;background:rgba(0,0,0,.75);border:1px solid var(--gold);color:var(--gold);font-family:'Space Mono',monospace;font-size:.52rem;padding:2px 7px;letter-spacing:1px}

.launch-item{background:var(--panel);border:1px solid var(--border);border-left:3px solid var(--accent);padding:16px 20px;display:flex;align-items:center;gap:20px;margin-bottom:2px;transition:all .2s}
.launch-item:hover{background:var(--card);box-shadow:0 4px 20px rgba(0,0,0,.3)}

.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2px}
.feature-card{background:var(--panel);padding:32px 28px;position:relative;overflow:hidden;transition:background .2s}
.feature-card:hover{background:rgba(110,215,65,.04)}
.feature-card::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--accent),var(--neon));transform:scaleX(0);transform-origin:left;transition:transform .3s}
.feature-card:hover::after{transform:scaleX(1)}
.feature-num{position:absolute;top:16px;right:20px;font-family:'Bebas Neue',sans-serif;font-size:4.5rem;color:rgba(255,255,255,.025);line-height:1;user-select:none}
.feature-icon{font-size:2rem;margin-bottom:18px;display:block}
.feature-title{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;letter-spacing:2px;margin-bottom:10px}
.feature-desc{font-size:.92rem;color:var(--muted);line-height:1.65}

.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.88);z-index:200;display:flex;align-items:center;justify-content:center;padding:20px;animation:fadeIn .2s ease}
.modal-box{background:var(--panel);border:1px solid var(--border);border-top:3px solid var(--neon);max-width:500px;width:100%;max-height:90svh;overflow-y:auto;animation:modalIn .25s ease;position:relative}
.modal-header{padding:22px 24px 0;display:flex;align-items:flex-start;justify-content:space-between;gap:16px}
.modal-body{padding:20px 24px 24px}
.modal-close{background:none;border:1px solid var(--border);color:var(--muted);width:30px;height:30px;cursor:pointer;font-size:1rem;transition:all .2s;flex-shrink:0;line-height:1}
.modal-close:hover{border-color:var(--accent);color:var(--accent)}
.modal-tabs{display:flex;gap:2px;margin:16px 0 0}
.modal-tab{flex:1;padding:9px;font-family:'Space Mono',monospace;font-size:.6rem;letter-spacing:1px;border:1px solid var(--border);background:transparent;color:var(--muted);cursor:pointer;text-transform:uppercase;transition:all .2s}
.modal-tab.active{color:var(--neon);border-color:var(--neon);background:rgba(110,215,65,.10)}

.form-panel{background:var(--card);border:1px solid rgba(110,215,65,.2);border-top:2px solid var(--neon);padding:28px;margin-bottom:16px;animation:panelIn .25s ease}
.form-title{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;letter-spacing:3px;color:var(--neon);margin-bottom:22px}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.col-full{grid-column:1/-1}

.stats-row{display:flex;gap:2px;margin-bottom:32px;flex-wrap:wrap}
.stat-card{background:var(--panel);border:1px solid var(--border);border-top:2px solid;padding:22px 20px;flex:1;min-width:120px;transition:transform .2s}
.stat-card:hover{transform:translateY(-2px)}
.stat-num{font-family:'Bebas Neue',sans-serif;font-size:2.8rem;line-height:1;letter-spacing:2px}
.stat-label{font-family:'Space Mono',monospace;font-size:.58rem;color:var(--muted);letter-spacing:2px;margin-top:6px;text-transform:uppercase}

.product-row{background:var(--panel);border:1px solid rgba(255,255,255,.04);padding:10px 14px;display:flex;align-items:center;gap:10px;margin-bottom:2px;transition:all .2s;flex-wrap:wrap}
.product-row:hover{background:var(--card);border-color:var(--border)}
.thumb-sm{width:52px;height:52px;overflow:hidden;flex-shrink:0;border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-family:'Bebas Neue',sans-serif;font-size:1.1rem;color:rgba(255,255,255,.12)}
.thumb-sm img{width:100%;height:100%;object-fit:cover;display:block}
.stock-controls{display:flex;align-items:center;gap:4px;flex-shrink:0}
.stock-val{font-family:'Bebas Neue',sans-serif;font-size:1.3rem;min-width:26px;text-align:center;line-height:1}

.reservation-card{background:var(--panel);border:1px solid var(--border);border-left:3px solid var(--gold);padding:16px 18px;margin-bottom:2px;transition:background .2s}
.reservation-card:hover{background:var(--card)}
.res-status{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-family:'Space Mono',monospace;font-size:.52rem;letter-spacing:1px;border:1px solid;border-radius:2px}

.report-bar-row{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.report-bar-bg{flex:1;height:6px;background:rgba(255,255,255,.05);border-radius:3px;overflow:hidden}
.report-bar-fill{height:100%;border-radius:3px;transition:width .6s ease}
.report-label{font-family:'Space Mono',monospace;font-size:.6rem;color:var(--muted);min-width:110px}
.report-count{font-family:'Bebas Neue',sans-serif;font-size:1.1rem;color:var(--neon);min-width:24px;text-align:right}

.log-item{display:flex;align-items:flex-start;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.log-dot{width:8px;height:8px;border-radius:50%;margin-top:5px;flex-shrink:0}

.img-picker{background:var(--deep);border:1px solid var(--border);padding:18px}
.img-preview{width:88px;height:88px;background:var(--void);border:1px solid var(--border);overflow:hidden;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:1.8rem;opacity:.35}
.img-preview.has-image{opacity:1}
.img-preview img{width:100%;height:100%;object-fit:cover}

.cam-modal{position:fixed;inset:0;background:rgba(0,0,0,.96);z-index:300;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;animation:fadeIn .2s ease;padding:24px}
.cam-viewfinder{position:relative;width:min(360px,90vw);aspect-ratio:1/1;border:2px solid var(--neon);overflow:hidden;background:#000}
.cam-viewfinder video{width:100%;height:100%;object-fit:cover;display:block}
.cam-corner{position:absolute;width:24px;height:24px}
.tl{top:0;left:0;border-top:2px solid var(--accent);border-left:2px solid var(--accent)}
.tr{top:0;right:0;border-top:2px solid var(--accent);border-right:2px solid var(--accent)}
.bl{bottom:0;left:0;border-bottom:2px solid var(--accent);border-left:2px solid var(--accent)}
.br{bottom:0;right:0;border-bottom:2px solid var(--accent);border-right:2px solid var(--accent)}

.toast{position:fixed;bottom:28px;right:20px;color:#08090d;padding:12px 20px;font-family:'Space Mono',monospace;font-size:.72rem;letter-spacing:1px;font-weight:bold;z-index:500;box-shadow:0 8px 32px rgba(0,0,0,.3);animation:toastIn .3s cubic-bezier(.34,1.56,.64,1);max-width:calc(100vw - 40px)}

/* sync dot */
.sync-dot{width:7px;height:7px;border-radius:50%;background:var(--green);display:inline-block;animation:glow 2s infinite}
.sync-dot.offline{background:var(--accent);animation:none}

.admin-subnav{background:var(--deep);border-bottom:1px solid var(--border);padding:10px 20px;display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap}
.admin-tabs{display:flex;gap:4px;flex-wrap:wrap}
.login-card{background:var(--panel);border:1px solid var(--border);border-top:3px solid var(--accent);padding:44px 36px;width:100%;max-width:360px;box-shadow:0 24px 80px rgba(0,0,0,.5)}
.notify-section{background:linear-gradient(135deg,var(--deep) 0%,rgba(255,60,95,.04) 50%,var(--deep) 100%);border-top:1px solid var(--border);border-bottom:1px solid var(--border);text-align:center}
footer{background:var(--void);border-top:1px solid var(--border);padding:40px 24px 24px;text-align:center}
.info-section{background:var(--deep);border-top:1px solid var(--border);padding:72px 24px}
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:32px;max-width:940px;margin:0 auto}
@media(max-width:680px){.info-grid{grid-template-columns:1fr}}
.info-card{background:var(--panel);border:1px solid var(--border);border-top:3px solid var(--neon);padding:28px}
.info-card-title{font-family:'Bebas Neue',sans-serif;font-size:1.3rem;letter-spacing:3px;color:var(--neon);margin-bottom:20px;display:flex;align-items:center;gap:10px}
.hours-row{display:flex;justify-content:space-between;align-items:center;padding:9px 0;border-bottom:1px solid var(--border);font-size:.95rem}
.hours-row:last-child{border-bottom:none}
.hours-day{color:var(--muted);font-family:'Space Mono',monospace;font-size:.65rem;letter-spacing:1px;text-transform:uppercase}
.hours-time{color:var(--text);font-weight:600}
.hours-closed{color:var(--accent);font-weight:600}
.map-wrap{width:100%;height:240px;border:1px solid var(--border);overflow:hidden;margin-top:16px}
.map-wrap iframe{width:100%;height:100%;border:none}
.addr-line{display:flex;align-items:flex-start;gap:10px;margin-bottom:14px;font-size:.95rem;color:var(--text);line-height:1.6}
.addr-icon{color:var(--neon);font-size:1.1rem;margin-top:2px;flex-shrink:0}
.addr-label{font-family:'Space Mono',monospace;font-size:.58rem;letter-spacing:2px;color:var(--muted);text-transform:uppercase;margin-bottom:4px}
.today-highlight{background:rgba(110,215,65,.08);border-radius:2px;padding:0 6px;margin:-2px -6px}
.empty{text-align:center;padding:64px 0;color:var(--muted);font-family:'Space Mono',monospace;font-size:.75rem;letter-spacing:1px;line-height:2}
.empty-icon{font-size:2.5rem;display:block;margin-bottom:12px;opacity:.25}
.sub-row{background:var(--panel);border:1px solid var(--border);padding:14px 18px;display:flex;align-items:center;gap:14px;margin-bottom:2px;transition:background .2s}
.sub-row:hover{background:var(--card)}
.contacts-box{background:var(--deep);border:1px solid var(--border);padding:14px 16px;margin-top:10px;font-family:'Space Mono',monospace;font-size:.72rem;color:var(--text);word-break:break-all;line-height:1.9;user-select:all;white-space:pre-wrap}

/* loading screen */
.loading-screen{position:fixed;inset:0;background:var(--void);z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px}
.spinner{width:40px;height:40px;border:3px solid var(--border);border-top-color:var(--neon);border-radius:50%;animation:spin 0.8s linear infinite}

@media(max-width:640px){
  .nav{padding:0 16px;height:56px}
  .logo{font-size:1.4rem}
  .nav-tab{padding:6px 9px;font-size:.52rem;letter-spacing:1px}
  .hero h1{font-size:clamp(3.2rem,16vw,5rem)}
  .section{padding:48px 16px}
  .launch-item{flex-wrap:wrap;gap:12px}
  .form-grid{grid-template-columns:1fr}
  .col-full{grid-column:1}
  .hero-actions{flex-direction:column;width:100%}
  .hero-actions .btn-primary,.hero-actions .btn-ghost{width:100%;text-align:center;clip-path:none}
  .stats-row{gap:4px}
  .stat-card{min-width:100px;padding:14px 12px}
  .stat-num{font-size:2rem}
  .catalog-grid{grid-template-columns:repeat(auto-fill,minmax(155px,1fr))}
  .features-grid{grid-template-columns:1fr}
  .section-head{flex-direction:column;align-items:flex-start}
  .login-card{padding:32px 20px}
  .admin-tabs{gap:2px}
  .admin-tabs .nav-tab{font-size:.5rem;padding:6px 8px;letter-spacing:.5px}
}
@media(max-width:420px){
  .catalog-grid{grid-template-columns:1fr 1fr}
  .product-thumb{height:155px}
}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect, useCallback, useRef, useMemo } = React;

/* ── HELPERS ── */
const uid = () => Math.random().toString(36).slice(2,9);
const fmtDate = d => new Date(d).toLocaleDateString("pt-BR");
const fmtTime = d => new Date(d).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});
const compressImage = file => new Promise(resolve=>{
  const r=new FileReader();
  r.onload=e=>{
    const img=new Image();
    img.onload=()=>{
      const MAX=360,ratio=Math.min(MAX/img.width,MAX/img.height,1);
      const c=document.createElement("canvas");
      c.width=img.width*ratio;c.height=img.height*ratio;
      c.getContext("2d").drawImage(img,0,0,c.width,c.height);
      resolve(c.toDataURL("image/jpeg",.78));
    };
    img.src=e.target.result;
  };
  r.readAsDataURL(file);
});

/* ── FIREBASE DB ── */
const FB_CONFIGURED = window.__FB_CONFIGURED__;
const db = FB_CONFIGURED ? window.db : null;

const col      = (c) => db.collection(c);
const fbAdd    = (c, data) => db.collection(c).doc(data.id).set(data);
const fbUpdate = (c, id, data) => db.collection(c).doc(id).update(data);
const fbDelete = (c, id) => db.collection(c).doc(id).delete();

/* ── SETUP SCREEN (shown when Firebase not configured) ── */
function SetupScreen() {
  return (
    <div style={{
      minHeight:"100vh", background:"var(--void)", display:"flex",
      alignItems:"center", justifyContent:"center", padding:"24px",
      fontFamily:"'Rajdhani',sans-serif"
    }}>
      <div style={{
        background:"var(--panel)", border:"1px solid var(--border)",
        borderTop:"3px solid var(--gold)", maxWidth:560, width:"100%", padding:"40px 36px"
      }}>
        <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"2rem",letterSpacing:4,
          background:"linear-gradient(135deg,#6ED741 0%,#A8FF3E 60%,#FFD600 100%)",
          WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",
          backgroundClip:"text",marginBottom:8}}>MULTIVERSO</div>

        <div style={{fontFamily:"'Space Mono',monospace",fontSize:".7rem",
          color:"var(--gold)",letterSpacing:2,marginBottom:24}}>
          ⚙️ CONFIGURAÇÃO DO BANCO DE DADOS
        </div>

        <p style={{color:"var(--text)",lineHeight:1.75,marginBottom:20,fontSize:"1rem"}}>
          O site ainda não está conectado ao Firebase. Siga os passos abaixo para configurar:
        </p>

        {[
          {n:"1", txt:"Abra o arquivo index.html no Bloco de Notas (clique com o botão direito → Abrir com → Bloco de Notas)"},
          {n:"2", txt:'Use Ctrl+F para buscar o texto COLE_AQUI_apiKey'},
          {n:"3", txt:"Substitua cada valor COLE_AQUI_... pelo valor correspondente copiado do Console do Firebase"},
          {n:"4", txt:"Salve o arquivo (Ctrl+S) e faça o upload novo no GitHub"},
        ].map(s => (
          <div key={s.n} style={{display:"flex",gap:14,marginBottom:14,alignItems:"flex-start"}}>
            <div style={{
              background:"var(--accent)",color:"#fff",width:26,height:26,
              borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",
              fontFamily:"'Bebas Neue',sans-serif",fontSize:"1rem",flexShrink:0,marginTop:2
            }}>{s.n}</div>
            <p style={{color:"var(--muted)",lineHeight:1.65,fontSize:".95rem"}}>{s.txt}</p>
          </div>
        ))}

        <div style={{
          background:"var(--deep)",border:"1px solid rgba(255,214,0,.25)",
          borderLeft:"3px solid var(--gold)",padding:"14px 16px",marginTop:24
        }}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",
            color:"var(--gold)",letterSpacing:2,marginBottom:8}}>
            💡 ONDE ENCONTRAR AS CREDENCIAIS
          </div>
          <p style={{color:"var(--muted)",fontSize:".88rem",lineHeight:1.7}}>
            Console do Firebase → ⚙️ Configurações do projeto → role até "Seus aplicativos" → clique no app web → seção "firebaseConfig"
          </p>
          <a href="https://console.firebase.google.com" target="_blank" style={{
            display:"inline-block",marginTop:12,
            fontFamily:"'Space Mono',monospace",fontSize:".62rem",
            color:"var(--neon)",borderBottom:"1px solid var(--neon)",textDecoration:"none"
          }}>→ Abrir Console do Firebase</a>
        </div>

        {window.__FB_ERROR__ && (
          <div style={{
            background:"rgba(255,60,95,.06)",border:"1px solid var(--border-hot)",
            padding:"12px 14px",marginTop:16
          }}>
            <div style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--accent)",marginBottom:4}}>
              ERRO TÉCNICO DETECTADO:
            </div>
            <code style={{fontSize:".78rem",color:"var(--muted)",wordBreak:"break-all"}}>
              {window.__FB_ERROR__}
            </code>
          </div>
        )}
      </div>
    </div>
  );
}

/* ── CONSTANTS ── */
const CATS=["HQ Marvel","HQ DC","HQ Indie","Mangá","Funko Pop!","Figure","Colecionável"];
const STATUSES=[
  {v:"ok",  label:"Em estoque",       color:"#4ade80"},
  {v:"low", label:"Últimas unidades", color:"#ffd600"},
  {v:"pre", label:"Pré-venda",        color:"#6ED741"},
  {v:"out", label:"Esgotado",         color:"#ff3c5f"},
];
const CAT_BG={
  "HQ Marvel":"linear-gradient(135deg,#3d0a0a,#1a0505)",
  "HQ DC":"linear-gradient(135deg,#0a1a3d,#050d1a)",
  "Mangá":"linear-gradient(135deg,#0a200a,#051005)",
  "Funko Pop!":"linear-gradient(135deg,#200a30,#100518)",
  "Figure":"linear-gradient(135deg,#0a0a30,#050518)",
  "HQ Indie":"linear-gradient(135deg,#201a0a,#100c05)",
  "Colecionável":"linear-gradient(135deg,#0a1a20,#050d10)",
};
const CAT_ICON={"HQ Marvel":"🦸","HQ DC":"🦇","Mangá":"⚔️","Funko Pop!":"🧸","Figure":"🏺","HQ Indie":"✍️","Colecionável":"🌟"};
const TYPE_COLOR={"Mangá":"#6ED741","HQ Marvel":"#ff3c5f","HQ DC":"#5b9aff","Funko Pop!":"#ffd600","Figure":"#b388ff","HQ Indie":"#4ade80","Colecionável":"#ff8a65"};
const LOG_COLORS={estoque:"#6ED741",produto:"#4ade80",reserva:"#ffd600",lancamento:"#ff8a65",cadastro:"#b388ff",sistema:"#5a6278"};

const INIT_PRODUCTS=[
  {id:uid(),name:"Homem-Aranha: Hobgoblin #1",cat:"HQ Marvel", price:39, stock:5, maxStock:5, image:null,status:"ok"},
  {id:uid(),name:"Jujutsu Kaisen Vol. 26",    cat:"Mangá",     price:52, stock:2, maxStock:10,image:null,status:"low"},
  {id:uid(),name:"Goku Ultra Instinct Funko", cat:"Funko Pop!",price:89, stock:8, maxStock:8, image:null,status:"ok"},
  {id:uid(),name:"Batman: Ano Um",             cat:"HQ DC",     price:64, stock:3, maxStock:6, image:null,status:"ok"},
  {id:uid(),name:"One Piece Vol. 107",         cat:"Mangá",     price:45, stock:1, maxStock:8, image:null,status:"low"},
  {id:uid(),name:"Miles Morales Glow Funko",  cat:"Funko Pop!",price:129,stock:0, maxStock:5, image:null,status:"out"},
];
const INIT_LAUNCHES=[
  {id:uid(),name:"Chainsaw Man Vol. 17",     date:"2025-03-28",type:"Mangá",     note:"Panini PT-BR"},
  {id:uid(),name:"Funko Chase — Tanjiro",    date:"2025-03-22",type:"Funko Pop!",note:"Ed. Limitada"},
  {id:uid(),name:"S.H.Figuarts Luffy Gear 5",date:"2025-04-10",type:"Figure",    note:"Bandai"},
  {id:uid(),name:"Absolute Batman #6",       date:"2025-04-18",type:"HQ DC",     note:"Scott Snyder"},
];

/* ── COMPONENTS ── */
function StatusBadge({status}){
  const st=STATUSES.find(s=>s.v===status)||STATUSES[0];
  return <span className="badge" style={{color:st.color,borderColor:st.color+"55"}}><span className="badge-dot" style={{background:st.color}}/>{st.label}</span>;
}
function StockBar({stock,maxStock,status}){
  if(status==="pre"||status==="out") return null;
  const pct=Math.max(0,Math.min(100,(stock/(maxStock||10))*100));
  const color=pct>50?"#4ade80":pct>20?"#ffd600":"#ff3c5f";
  return <div className="stock-bar-wrap"><div className="stock-bar" style={{width:pct+"%",background:color}}/></div>;
}
function ProductPlaceholder({cat}){
  return(
    <div className="product-placeholder" style={{background:CAT_BG[cat]||"var(--card)"}}>
      <span className="placeholder-icon">{CAT_ICON[cat]||"📦"}</span>
      <span className="placeholder-label">Sem foto</span>
      <span className="placeholder-cat">{cat}</span>
    </div>
  );
}
function ThumbSm({image,cat}){
  const abbr={"HQ Marvel":"MV","HQ DC":"DC","Mangá":"MG","Funko Pop!":"FK","Figure":"FG","HQ Indie":"IN","Colecionável":"CL"};
  return(
    <div className="thumb-sm" style={{background:CAT_BG[cat]||"var(--card)"}}>
      {image?<img src={image} alt=""/>:(abbr[cat]||cat[0])}
    </div>
  );
}
function ImagePicker({image,onChange}){
  const fRef=useRef(),vRef=useRef(),cRef=useRef();
  const [cam,setCam]=useState(false),[stream,setStream]=useState(null),[loading,setLoading]=useState(false),[err,setErr]=useState(null);
  useEffect(()=>{if(stream&&vRef.current) vRef.current.srcObject=stream;},[stream,cam]);
  const startCam=async()=>{setErr(null);try{const st=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:false});setStream(st);setCam(true);}catch{setErr("Permissão de câmera negada.");}};
  const stopCam=()=>{if(stream) stream.getTracks().forEach(t=>t.stop());setStream(null);setCam(false);};
  const capture=()=>{const v=vRef.current,c=cRef.current;if(!v||!c) return;const MAX=360,r=Math.min(MAX/v.videoWidth,MAX/v.videoHeight,1);c.width=v.videoWidth*r;c.height=v.videoHeight*r;c.getContext("2d").drawImage(v,0,0,c.width,c.height);onChange(c.toDataURL("image/jpeg",.78));stopCam();};
  const handleFile=async e=>{const f=e.target.files[0];if(!f) return;setLoading(true);onChange(await compressImage(f));setLoading(false);e.target.value="";};
  return(
    <>
      <div className="img-picker">
        <div style={{display:"flex",alignItems:"center",gap:16}}>
          <div className={`img-preview${image?" has-image":""}`}>{image?<img src={image} alt=""/>:"📷"}</div>
          <div style={{display:"flex",flexDirection:"column",gap:8}}>
            <button className="btn-neon" onClick={()=>fRef.current.click()}>🖼️ Galeria / Arquivo</button>
            <button className="btn-neon" onClick={startCam}>📸 Câmera</button>
            {image&&<button className="btn-danger" onClick={()=>onChange(null)}>🗑️ Remover</button>}
          </div>
        </div>
        {loading&&<div style={{fontFamily:"monospace",fontSize:".68rem",color:"var(--neon)",marginTop:10}}>⏳ Processando...</div>}
        {err&&<div style={{fontFamily:"monospace",fontSize:".68rem",color:"var(--accent)",marginTop:10}}>⚠️ {err}</div>}
      </div>
      <input ref={fRef} type="file" accept="image/*" style={{display:"none"}} onChange={handleFile}/>
      <canvas ref={cRef} style={{display:"none"}}/>
      {cam&&(
        <div className="cam-modal">
          <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.3rem",letterSpacing:4,color:"var(--neon)"}}>📸 CÂMERA</div>
          <div className="cam-viewfinder"><video ref={vRef} autoPlay playsInline muted/><div className="cam-corner tl"/><div className="cam-corner tr"/><div className="cam-corner bl"/><div className="cam-corner br"/></div>
          <div style={{display:"flex",gap:12}}><button className="btn-primary" onClick={capture}>📸 Capturar</button><button className="btn-ghost" onClick={stopCam}>Cancelar</button></div>
        </div>
      )}
    </>
  );
}
function Toast({msg,color="#4ade80",onClose}){
  useEffect(()=>{const t=setTimeout(onClose,3200);return()=>clearTimeout(t);},[onClose]);
  return <div className="toast" style={{background:color}}>{msg}</div>;
}

/* ── THEME PICKER ── */
const THEMES=[
  {id:"dark",  icon:"🌑",label:"Escuro",   desc:"Tema padrão — fundo escuro"},
  {id:"light", icon:"☀️", label:"Claro",    desc:"Fundo branco — ambiente iluminado"},
  {id:"access",icon:"♿", label:"Acessível",desc:"Alto contraste — autismo, daltonismo, baixa visão"},
];
function ThemePicker({theme,setTheme}){
  const [open,setOpen]=useState(false);const ref=useRef();
  useEffect(()=>{document.body.setAttribute("data-theme",theme==="dark"?"":theme);try{localStorage.setItem("mv-theme",theme);}catch{}},[theme]);
  useEffect(()=>{const h=e=>{if(ref.current&&!ref.current.contains(e.target)) setOpen(false);};document.addEventListener("mousedown",h);return()=>document.removeEventListener("mousedown",h);},[]);
  const cur=THEMES.find(t=>t.id===theme)||THEMES[0];
  return(
    <div ref={ref} style={{position:"relative"}}>
      <button onClick={()=>setOpen(o=>!o)} className="nav-tab" title="Tema de cores" style={{display:"flex",alignItems:"center",gap:5}}>
        <span style={{fontSize:"1rem",lineHeight:1}}>{cur.icon}</span>
        <span style={{fontSize:".5rem",color:"var(--muted)"}}>▼</span>
      </button>
      {open&&(
        <div style={{position:"absolute",top:"calc(100% + 8px)",right:0,background:"var(--panel)",border:"1px solid var(--border)",borderTop:"2px solid var(--neon)",minWidth:240,zIndex:300,boxShadow:"0 16px 48px rgba(0,0,0,.5)",animation:"panelIn .2s ease"}}>
          <div style={{padding:"10px 14px 8px",fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:"var(--muted)",letterSpacing:2,textTransform:"uppercase",borderBottom:"1px solid var(--border)"}}>🎨 Tema de Cores</div>
          {THEMES.map(t=>(
            <button key={t.id} onClick={()=>{setTheme(t.id);setOpen(false);}}
              style={{width:"100%",background:theme===t.id?"rgba(110,215,65,.10)":"transparent",border:"none",borderBottom:"1px solid var(--border)",padding:"12px 14px",display:"flex",alignItems:"center",gap:12,cursor:"pointer",textAlign:"left"}}
              onMouseEnter={e=>e.currentTarget.style.background="rgba(255,255,255,.05)"}
              onMouseLeave={e=>e.currentTarget.style.background=theme===t.id?"rgba(110,215,65,.10)":"transparent"}>
              <span style={{fontSize:"1.4rem",lineHeight:1,flexShrink:0}}>{t.icon}</span>
              <div style={{flex:1,minWidth:0}}>
                <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1rem",letterSpacing:2,color:theme===t.id?"var(--neon)":"var(--text)",display:"flex",alignItems:"center",gap:8}}>
                  {t.label}{theme===t.id&&<span style={{fontFamily:"'Space Mono',monospace",fontSize:".5rem",color:"var(--neon)",border:"1px solid var(--neon)",padding:"1px 5px"}}>ATIVO</span>}
                </div>
                <div style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)",marginTop:3,lineHeight:1.4}}>{t.desc}</div>
              </div>
            </button>
          ))}
          <div style={{padding:"8px 14px 10px",fontFamily:"'Space Mono',monospace",fontSize:".52rem",color:"var(--muted)",lineHeight:1.7,borderTop:"1px solid var(--border)"}}>♿ Modo acessível remove animações e aumenta o contraste para necessidades visuais ou cognitivas.</div>
        </div>
      )}
    </div>
  );
}

/* ── PRODUCT MODAL ── */
function ProductModal({product,wishes,onClose,onReserve,onWish}){
  const [tab,setTab]=useState(product.status==="out"?"wish":"reserve");
  const [name,setName]=useState(""),[contact,setContact]=useState(""),[ctype,setCtype]=useState("whatsapp"),[note,setNote]=useState("");
  const [done,setDone]=useState(false);
  const wc=wishes.filter(w=>w.productId===product.id).length;
  const submit=()=>{
    if(!name||!contact) return;
    const base={id:uid(),productId:product.id,productName:product.name,productCat:product.cat,name,contact,contactType:ctype,date:new Date().toISOString()};
    if(tab==="reserve") onReserve({...base,note,status:"pending"});
    else onWish(base);
    setDone(true);
  };
  return(
    <div className="modal-overlay" onClick={e=>{if(e.target===e.currentTarget) onClose()}}>
      <div className="modal-box">
        <div className="modal-header">
          <div style={{flex:1}}>
            <div style={{fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:TYPE_COLOR[product.cat]||"var(--neon)",letterSpacing:2,textTransform:"uppercase",marginBottom:6}}>{product.cat}</div>
            <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.5rem",letterSpacing:2,lineHeight:1.1}}>{product.name}</div>
            <div style={{display:"flex",alignItems:"center",gap:10,marginTop:10,flexWrap:"wrap"}}>
              <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"2rem",color:"var(--neon)"}}>R${product.price}</div>
              <StatusBadge status={product.status}/>
              {wc>0&&<span style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--gold)",border:"1px solid var(--gold)",padding:"2px 8px"}}>❤️ {wc} na espera</span>}
            </div>
          </div>
          {product.image&&<div style={{width:70,height:70,overflow:"hidden",flexShrink:0,border:"1px solid var(--border)"}}><img src={product.image} alt="" style={{width:"100%",height:"100%",objectFit:"cover"}}/></div>}
          <button className="modal-close" onClick={onClose}>✕</button>
        </div>
        {done?(
          <div className="modal-body" style={{textAlign:"center",padding:"36px 24px"}}>
            <div style={{fontSize:"3rem",marginBottom:12}}>🎉</div>
            <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.6rem",color:"var(--green)",letterSpacing:2}}>{tab==="reserve"?"Reserva Enviada!":"Na Lista de Espera!"}</div>
            <p style={{color:"var(--muted)",marginTop:8,fontSize:".9rem"}}>O dono da banca entrará em contato em breve.</p>
            <button className="btn-ghost" onClick={onClose} style={{marginTop:20}}>Fechar</button>
          </div>
        ):(
          <>
            <div style={{padding:"0 24px"}}>
              <div className="modal-tabs">
                {product.status!=="out"&&<button className={`modal-tab${tab==="reserve"?" active":""}`} onClick={()=>setTab("reserve")}>🛒 Reservar</button>}
                <button className={`modal-tab${tab==="wish"?" active":""}`} onClick={()=>setTab("wish")}>❤️ Avise-me</button>
              </div>
            </div>
            <div className="modal-body">
              <p style={{color:"var(--muted)",fontSize:".88rem",marginBottom:16,lineHeight:1.6}}>
                {tab==="reserve"?"Faça sua reserva e retire na banca. Entraremos em contato para confirmar.":"Seja avisado quando este item chegar em estoque novamente."}
              </p>
              <label className="field-label">Seu Nome</label>
              <input value={name} onChange={e=>setName(e.target.value)} placeholder="Ex: João Silva" className="field-input"/>
              <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12}}>
                <div><label className="field-label">Contato via</label><select value={ctype} onChange={e=>setCtype(e.target.value)} className="field-input"><option value="whatsapp">📱 WhatsApp</option><option value="email">📧 E-mail</option></select></div>
                <div><label className="field-label">{ctype==="whatsapp"?"Número":"E-mail"}</label><input value={contact} onChange={e=>setContact(e.target.value)} placeholder={ctype==="whatsapp"?"(21) 99999-0000":"seu@email.com"} className="field-input"/></div>
              </div>
              {tab==="reserve"&&<><label className="field-label">Observação (opcional)</label><input value={note} onChange={e=>setNote(e.target.value)} placeholder="Quantidade, edição preferida..." className="field-input"/></>}
              <button className="btn-primary" onClick={submit} style={{width:"100%",padding:14,fontSize:"1rem",clipPath:"none",marginTop:4}}>
                {tab==="reserve"?"🛒 Confirmar Reserva":"❤️ Entrar na Lista"}
              </button>
            </div>
          </>
        )}
      </div>
    </div>
  );
}

/* ══════════════════════════════════════
   CUSTOMER PAGE
══════════════════════════════════════ */
function CustomerPage({products,launches,reservations,wishes,onReserve,onWish,onNotifySignup}){
  const [name,setName]=useState(""),[contact,setContact]=useState(""),[ctype,setCtype]=useState("whatsapp");
  const [interest,setInterest]=useState(""),[submitted,setSubmitted]=useState(false);
  const [search,setSearch]=useState(""),[filterCat,setFilterCat]=useState("Todos");
  const [launchSearch,setLaunchSearch]=useState("");
  const [selectedProduct,setSelectedProduct]=useState(null);
  const cats=["Todos",...new Set(products.map(p=>p.cat))];
  const filtered=products.filter(p=>(filterCat==="Todos"||p.cat===filterCat)&&p.name.toLowerCase().includes(search.toLowerCase()));
  const upcoming=[...launches].sort((a,b)=>new Date(a.date)-new Date(b.date)).filter(l=>l.name.toLowerCase().includes(launchSearch.toLowerCase())||l.type.toLowerCase().includes(launchSearch.toLowerCase()));
  const handleNotify=()=>{
    if(!name||!contact) return;
    onNotifySignup({id:uid(),name,contact,contactType:ctype,interest,date:new Date().toISOString()});
    setSubmitted(true);
  };
  return(
    <div style={{paddingTop:60}}>
      <div className="hero">
        <div className="hero-logo-bg"/>
        <div className="comic-bg"/>
        <div className="hero-glow hero-glow-1"/><div className="hero-glow hero-glow-2"/>
        <div className="hero-tag">Banca Geek</div>
        <h1><span>Seu Portal</span><span className="line-neon">Multiverso</span></h1>
        <p className="hero-desc">HQs, mangás, funkos e colecionáveis. Reserve online, entre na lista de espera e nunca perca um lançamento.</p>
        <div className="hero-actions"><a className="btn-primary" href="#catalogo">📚 Ver Catálogo</a><a className="btn-ghost" href="#notify">🔔 Notificações</a></div>
      </div>
      <div className="marquee-bar">
        <div className="marquee-track">
          {["HQS MARVEL","DC COMICS","MANGÁS","FUNKOS","FIGURES","INDIE","COLECIONÁVEIS","NOVIDADES","HQS MARVEL","DC COMICS","MANGÁS","FUNKOS","FIGURES","INDIE","COLECIONÁVEIS","NOVIDADES"].map((item,i)=>(
            <React.Fragment key={i}><span className="marquee-item">{item}</span><span className="marquee-dot">◆</span></React.Fragment>
          ))}
        </div>
      </div>

      {/* LANÇAMENTOS */}
      <div className="section">
        <div className="s-container">
          <div className="section-head"><div><div className="section-tag">// Agenda</div><div className="section-title">Próximos Lançamentos</div></div></div>
          <div style={{position:"relative",marginBottom:16}}>
            <input value={launchSearch} onChange={e=>setLaunchSearch(e.target.value)} placeholder="Buscar por título ou tipo..." className="field-input" style={{paddingLeft:36,marginBottom:0}}/>
            <span style={{position:"absolute",left:11,top:"50%",transform:"translateY(-50%)",opacity:.4,fontSize:14}}>🔍</span>
          </div>
          {upcoming.length===0?<div className="empty"><span className="empty-icon">🗓️</span>Nenhum lançamento encontrado.</div>
            :upcoming.map(l=>{const d=new Date(l.date+"T00:00:00");return(
            <div className="launch-item" key={l.id}>
              <div style={{textAlign:"center",minWidth:48}}>
                <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"2.2rem",color:"var(--accent)",lineHeight:1}}>{d.getDate()}</div>
                <div style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)",letterSpacing:2}}>{d.toLocaleString("pt-BR",{month:"short"}).toUpperCase()}</div>
              </div>
              <div style={{width:1,height:44,background:"var(--border)"}}/>
              <div style={{flex:1,minWidth:0}}>
                <div style={{fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:TYPE_COLOR[l.type]||"var(--neon)",letterSpacing:2,marginBottom:4,textTransform:"uppercase"}}>{l.type}</div>
                <div style={{fontWeight:700,fontSize:"1rem",lineHeight:1.3}}>{l.name}</div>
                {l.note&&<div style={{fontSize:".82rem",color:"var(--muted)",marginTop:3}}>{l.note}</div>}
              </div>
              <a className="btn-ghost" href="#notify" style={{fontSize:".58rem",color:"var(--accent)",borderColor:"var(--border-hot)",whiteSpace:"nowrap"}}>Reservar →</a>
            </div>
          );})}
        </div>
      </div>

      {/* CATÁLOGO */}
      <div className="section" id="catalogo" style={{background:"var(--deep)",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"}}>
        <div className="s-container">
          <div className="section-head"><div><div className="section-tag">// Disponível</div><div className="section-title">Catálogo</div></div></div>
          <div style={{display:"flex",gap:8,marginBottom:20,flexWrap:"wrap"}}>
            <div style={{position:"relative",flex:"1 1 200px"}}>
              <input value={search} onChange={e=>setSearch(e.target.value)} placeholder="Buscar produto..." className="field-input" style={{paddingLeft:36,marginBottom:0}}/>
              <span style={{position:"absolute",left:11,top:"50%",transform:"translateY(-50%)",fontSize:14,opacity:.4}}>🔍</span>
            </div>
            <div style={{display:"flex",gap:4,flexWrap:"wrap"}}>
              {cats.map(c=><button key={c} className={`nav-tab${filterCat===c?" active":""}`} onClick={()=>setFilterCat(c)} style={{fontSize:".58rem",padding:"7px 12px"}}>{c}</button>)}
            </div>
          </div>
          {filtered.length===0?<div className="empty"><span className="empty-icon">🔍</span>Nenhum produto encontrado.</div>
            :<div className="catalog-grid">{filtered.map(p=>{const wc=wishes.filter(w=>w.productId===p.id).length;return(
            <div className="product-card" key={p.id} onClick={()=>setSelectedProduct(p)}>
              {wc>0&&<div className="wish-badge">❤️ {wc}</div>}
              <div className="product-thumb">{p.image?<img src={p.image} alt={p.name}/>:<ProductPlaceholder cat={p.cat}/>}</div>
              <div className="product-info">
                <div className="product-cat">{p.cat}</div>
                <div className="product-name">{p.name}</div>
                <StockBar stock={p.stock} maxStock={p.maxStock} status={p.status}/>
                <div className="product-footer"><div className="product-price">R${p.price}</div><StatusBadge status={p.status}/></div>
              </div>
            </div>
          );})}</div>}
          <p style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--muted)",marginTop:16,textAlign:"center"}}>Clique num produto para reservar ou entrar na lista de espera.</p>
        </div>
      </div>

      {/* FEATURES */}
      <div className="section">
        <div className="s-container">
          <div className="section-head"><div><div className="section-tag">// Diferenciais</div><div className="section-title">Por que o Multiverso?</div></div></div>
          <div className="features-grid">
            {[{n:"01",icon:"🛒",title:"Reserva Online",desc:"Clique no produto e garanta o item antes de esgotar. Retire na banca na sua hora."},{n:"02",icon:"❤️",title:"Lista de Espera",desc:"Produto esgotado? Entre na lista e receba aviso assim que ele voltar ao estoque."},{n:"03",icon:"🔔",title:"Notificações",desc:"Cadastre-se para receber avisos gerais de novidades, promoções e lançamentos."},{n:"04",icon:"🗓️",title:"Calendário Geek",desc:"Todos os lançamentos Marvel, DC, Shōnen e mais — centralizados e sempre atualizados."}].map(f=>(
              <div className="feature-card" key={f.n}>
                <span className="feature-num">{f.n}</span><span className="feature-icon">{f.icon}</span>
                <div className="feature-title">{f.title}</div><p className="feature-desc">{f.desc}</p>
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* NOTIFY */}
      <div className="section notify-section" id="notify">
        <div className="s-container">
          <div className="section-tag" style={{justifyContent:"center",display:"flex"}}>// Fique por dentro</div>
          <div className="section-title" style={{textAlign:"center",fontSize:"clamp(2rem,5vw,3.2rem)",marginBottom:12}}>Receba Notificações</div>
          <p style={{color:"var(--muted)",textAlign:"center",maxWidth:420,margin:"0 auto 36px",lineHeight:1.7,fontSize:".98rem"}}>Cadastre-se para receber avisos de novidades e lançamentos por WhatsApp ou e-mail.</p>
          {submitted?(
            <div style={{textAlign:"center",padding:"48px 0",animation:"fadeUp .5s ease"}}>
              <div style={{fontSize:"3.5rem",marginBottom:16}}>🎉</div>
              <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"2rem",color:"var(--green)",letterSpacing:3}}>Cadastro Confirmado!</div>
              <p style={{color:"var(--muted)",marginTop:10}}>Você será avisado assim que tiver novidade.</p>
            </div>
          ):(
            <div style={{maxWidth:560,margin:"0 auto"}}>
              <div className="form-grid" style={{marginBottom:14}}>
                <div className="col-full"><label className="field-label">Seu Nome</label><input value={name} onChange={e=>setName(e.target.value)} placeholder="Ex: João Silva" className="field-input"/></div>
                <div><label className="field-label">Contato via</label><select value={ctype} onChange={e=>setCtype(e.target.value)} className="field-input"><option value="whatsapp">📱 WhatsApp</option><option value="email">📧 E-mail</option></select></div>
                <div><label className="field-label">{ctype==="whatsapp"?"WhatsApp":"E-mail"}</label><input value={contact} onChange={e=>setContact(e.target.value)} placeholder={ctype==="whatsapp"?"(21) 99999-0000":"seu@email.com"} className="field-input"/></div>
                <div className="col-full"><label className="field-label">Interesse (opcional)</label><input value={interest} onChange={e=>setInterest(e.target.value)} placeholder="Ex: Mangás shōnen, HQs DC, Funkos exclusivos..." className="field-input"/></div>
              </div>
              <button className="btn-primary" onClick={handleNotify} style={{width:"100%",padding:14,fontSize:"1.1rem",clipPath:"none"}}>🔔 Quero ser Notificado</button>
            </div>
          )}
        </div>
      </div>
      <div className="info-section" id="info">
        <div className="s-container" style={{marginBottom:36,maxWidth:940}}>
          <div className="section-tag">// ENCONTRE A GENTE</div>
          <div className="section-title" style={{letterSpacing:2}}>Endereço & Horários</div>
        </div>
        <div className="info-grid">

          {/* ENDEREÇO + MAPA */}
          <div className="info-card">
            <div className="info-card-title">📍 Onde Estamos</div>

            <div className="addr-line">
              <span className="addr-icon">🏬</span>
              <div>
                <div className="addr-label">Endereço</div>
                Av. Nelson Cardoso, 905 — Loja 109<br/>
                Unicenter II Business Partner<br/>
                Taquara, Rio de Janeiro — RJ<br/>
                CEP 22730-001
              </div>
            </div>

            <div className="addr-line">
              <span className="addr-icon">📱</span>
              <div>
                <div className="addr-label">Instagram</div>
                <a href="https://instagram.com/multiversotaquara" target="_blank" rel="noreferrer"
                   style={{color:"var(--neon)",textDecoration:"none",fontWeight:600}}>@multiversotaquara</a>
              </div>
            </div>

            <div className="map-wrap">
              <iframe
                title="Mapa Multiverso"
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3675.456!2d-43.3706!3d-22.9215!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9be013e3c5b85f%3A0x9e1bde8e2c0e5e0e!2sAv.%20Nelson%20Cardoso%2C%20905%20-%20Taquara%2C%20Rio%20de%20Janeiro!5e0!3m2!1spt-BR!2sbr!4v1700000000000"
                allowFullScreen=""
                loading="lazy"
                referrerPolicy="no-referrer-when-downgrade"
              />
            </div>
          </div>

          {/* HORÁRIOS */}
          <div className="info-card">
            <div className="info-card-title">🕐 Horário de Funcionamento</div>

            {[
              {day:"Segunda-feira", open:true,  time:"10:00 – 19:00"},
              {day:"Terça-feira",   open:true,  time:"10:00 – 19:00"},
              {day:"Quarta-feira",  open:true,  time:"10:00 – 19:00"},
              {day:"Quinta-feira",  open:true,  time:"10:00 – 19:00"},
              {day:"Sexta-feira",   open:true,  time:"10:00 – 19:00"},
              {day:"Sábado",        open:true,  time:"10:00 – 16:00"},
              {day:"Domingo",       open:false, time:"Fechado"},
            ].map(({day, open, time})=>{
              const today = new Date().toLocaleDateString("pt-BR",{weekday:"long"});
              const isToday = today.toLowerCase().replace("-feira","").trim() === day.toLowerCase().replace("-feira","").trim()
                           || today.toLowerCase() === day.toLowerCase();
              return(
                <div key={day} className={"hours-row"+(isToday?" today-highlight":"")}>
                  <span className="hours-day">{day}{isToday&&<span style={{color:"var(--neon)",marginLeft:6,fontSize:".55rem"}}>● HOJE</span>}</span>
                  <span className={open?"hours-time":"hours-closed"}>{time}</span>
                </div>
              );
            })}

            <div style={{marginTop:20,padding:"14px 16px",background:"rgba(110,215,65,.06)",border:"1px solid rgba(110,215,65,.2)",display:"flex",alignItems:"center",gap:10}}>
              <span style={{fontSize:"1.2rem"}}>📍</span>
              <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--muted)",lineHeight:1.7}}>
                Localizado dentro do<br/>
                <span style={{color:"var(--text)",fontWeight:600}}>Unicenter II Business Partner</span>
              </div>
            </div>
          </div>

        </div>
      </div>
      <footer>
        <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.5rem",letterSpacing:4,background:"linear-gradient(90deg,#6ED741,#A8FF3E)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:12}}>MULTIVERSO</div>
        <p style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--muted)",letterSpacing:2}}>© 2025 — Banca Geek · Feito com ❤️ para os fãs</p>
      </footer>
      {selectedProduct&&<ProductModal product={selectedProduct} wishes={wishes} onClose={()=>setSelectedProduct(null)} onReserve={onReserve} onWish={onWish}/>}
    </div>
  );
}

/* ══════════════════════════════════════
   ADMIN LOGIN
══════════════════════════════════════ */
function AdminLogin({onLogin}){
  const [email,setEmail]=useState(""),[pass,setPass]=useState(""),[err,setErr]=useState(""),[loading,setLoading]=useState(false);
  const go=async()=>{
    if(!email||!pass){setErr("Preencha e-mail e senha.");return;}
    setLoading(true);setErr("");
    try{
      await window.auth.signInWithEmailAndPassword(email,pass);
      onLogin();
    }catch(e){
      const msgs={"auth/user-not-found":"E-mail não cadastrado.","auth/wrong-password":"Senha incorreta.","auth/invalid-email":"E-mail inválido.","auth/too-many-requests":"Muitas tentativas. Aguarde alguns minutos.","auth/invalid-credential":"E-mail ou senha incorretos."};
      setErr(msgs[e.code]||"Erro ao entrar. Tente novamente.");
      setLoading(false);
    }
  };
  return(
    <div style={{paddingTop:60,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100svh",padding:"80px 16px 40px"}}>
      <div className="login-card">
        <div style={{textAlign:"center",marginBottom:36}}>
          <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"2rem",letterSpacing:4,background:"linear-gradient(135deg,#6ED741 0%,#A8FF3E 60%,#FFD600 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:8}}>MULTIVERSO</div>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--muted)",letterSpacing:4}}>PAINEL ADMIN</div>
        </div>
        <label className="field-label">📧 E-mail</label>
        <input type="email" value={email} onChange={e=>{setEmail(e.target.value);setErr("");}} onKeyDown={e=>e.key==="Enter"&&go()} placeholder="admin@multiverso.com" className="field-input" autoComplete="email"/>
        <label className="field-label">🔒 Senha</label>
        <input type="password" value={pass} onChange={e=>{setPass(e.target.value);setErr("");}} onKeyDown={e=>e.key==="Enter"&&go()} placeholder="••••••••••••" className="field-input" style={{borderColor:err?"var(--accent)":undefined}} autoComplete="current-password"/>
        {err&&<div style={{fontFamily:"monospace",fontSize:".65rem",color:"var(--accent)",marginBottom:12}}>⚠️ {err}</div>}
        <button className="btn-primary" onClick={go} disabled={loading} style={{width:"100%",padding:14,fontSize:"1.1rem",clipPath:"none",opacity:loading?.7:1}}>{loading?"Verificando...":"Entrar no Painel"}</button>
        <div style={{marginTop:20,fontFamily:"monospace",fontSize:".6rem",color:"var(--muted)",textAlign:"center",lineHeight:2}}>Área restrita — acesso autorizado apenas para administradores da banca.<br/>A senha nunca fica visível no código do site.</div>
      </div>
    </div>
  );
}

/* ══════════════════════════════════════
   ADMIN PANEL
══════════════════════════════════════ */
function AdminPanel({products,launches,subscribers,reservations,wishes,activityLog,onLogout,onToast,onAddLog,synced}){
  const [tab,setTab]=useState("dashboard");
  const pending=reservations.filter(r=>r.status==="pending").length;
  const tabs=[
    {id:"dashboard",   label:"Dashboard",   e:"📊"},
    {id:"products",    label:"Catálogo",    e:"📚"},
    {id:"reservas",    label:"Reservas",    e:"🛒",badge:pending},
    {id:"launches",    label:"Lançamentos", e:"🗓️"},
    {id:"subscribers", label:"Notificações",e:"🔔"},
    {id:"relatorio",   label:"Relatório",   e:"📈"},
  ];
  return(
    <div style={{paddingTop:60}}>
      <div className="admin-subnav">
        <div className="admin-tabs">
          {tabs.map(t=>(
            <button key={t.id} className={`nav-tab${tab===t.id?" active":""}`} onClick={()=>setTab(t.id)}>
              {t.e} {t.label}{t.badge>0&&<span className="nav-badge">{t.badge}</span>}
            </button>
          ))}
        </div>
        <div style={{display:"flex",alignItems:"center",gap:12}}>
          <div style={{display:"flex",alignItems:"center",gap:5,fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)"}}>
            <span className={`sync-dot${synced?"":" offline"}`}/>
            {synced?"Sincronizado":"Reconectando..."}
          </div>
          <button className="btn-ghost" onClick={onLogout} style={{fontSize:".58rem",padding:"7px 12px"}}>🚪 Sair</button>
        </div>
      </div>
      <div className="s-container" style={{padding:"32px 20px"}}>
        {tab==="dashboard"   && <Dashboard products={products} launches={launches} subscribers={subscribers} reservations={reservations} wishes={wishes} activityLog={activityLog}/>}
        {tab==="products"    && <ProductsAdmin products={products} onToast={onToast} onAddLog={onAddLog}/>}
        {tab==="reservas"    && <ReservasAdmin reservations={reservations} wishes={wishes} products={products} onToast={onToast}/>}
        {tab==="launches"    && <LaunchesAdmin launches={launches} onToast={onToast} onAddLog={onAddLog}/>}
        {tab==="subscribers" && <SubscribersAdmin subscribers={subscribers}/>}
        {tab==="relatorio"   && <Relatorio products={products} subscribers={subscribers} reservations={reservations} wishes={wishes}/>}
      </div>
    </div>
  );
}

/* ══════════════════════════════════════
   DASHBOARD
══════════════════════════════════════ */
function Dashboard({products,launches,subscribers,reservations,wishes,activityLog}){
  const lowStock=products.filter(p=>p.stock<=2&&p.status!=="pre"&&p.status!=="out");
  const pending=reservations.filter(r=>r.status==="pending");
  const upcoming=[...launches].sort((a,b)=>new Date(a.date)-new Date(b.date)).slice(0,3);
  const stats=[
    {num:products.length,    label:"Itens no Catálogo",  color:"var(--neon)"},
    {num:pending.length,     label:"Reservas Pendentes", color:"var(--gold)"},
    {num:subscribers.length, label:"Cadastros Notif.",   color:"var(--accent)"},
    {num:wishes.length,      label:"Listas de Espera",   color:"var(--purple)"},
  ];
  return(
    <div>
      <div style={{marginBottom:28,paddingBottom:16,borderBottom:"1px solid var(--border)"}}>
        <div className="section-tag">// Visão Geral</div><div className="section-title">Dashboard</div>
      </div>
      <div className="stats-row">
        {stats.map((st,i)=>(
          <div key={i} className="stat-card" style={{borderTopColor:st.color}}>
            <div className="stat-num" style={{color:st.color}}>{st.num}</div>
            <div className="stat-label">{st.label}</div>
          </div>
        ))}
      </div>
      {pending.length>0&&(
        <div style={{marginBottom:28,background:"rgba(255,214,0,.04)",border:"1px solid rgba(255,214,0,.2)",borderLeft:"3px solid var(--gold)",padding:"18px 20px"}}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--gold)",letterSpacing:3,marginBottom:12,textTransform:"uppercase"}}>🛒 Reservas Aguardando Confirmação</div>
          {pending.slice(0,4).map(r=>(
            <div key={r.id} style={{display:"flex",alignItems:"center",gap:10,marginBottom:8,flexWrap:"wrap"}}>
              <div style={{flex:1,minWidth:140}}><span style={{fontWeight:700}}>{r.name}</span><span style={{color:"var(--muted)",fontSize:".85rem"}}> — {r.productName}</span></div>
              <span style={{fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:"#4ade80"}}>{r.contact}</span>
            </div>
          ))}
          {pending.length>4&&<div style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--muted)",marginTop:8}}>+{pending.length-4} mais reservas pendentes</div>}
        </div>
      )}
      {lowStock.length>0&&(
        <div style={{marginBottom:28}}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--gold)",letterSpacing:3,marginBottom:12,textTransform:"uppercase"}}>⚠️ Estoque Crítico</div>
          {lowStock.map(p=>(
            <div key={p.id} style={{background:"var(--panel)",border:"1px solid var(--border)",borderLeft:"3px solid var(--gold)",padding:"12px 16px",marginBottom:2,display:"flex",alignItems:"center",gap:12}}>
              <ThumbSm image={p.image} cat={p.cat}/>
              <div style={{flex:1,minWidth:0}}><div style={{fontWeight:700}}>{p.name}</div><div style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--muted)"}}>{p.cat}</div></div>
              <span style={{fontFamily:"'Space Mono',monospace",fontSize:".65rem",color:"var(--gold)",border:"1px solid var(--gold)",padding:"3px 10px"}}>{p.stock} unid.</span>
            </div>
          ))}
        </div>
      )}
      <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}}>
        <div>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--neon)",letterSpacing:3,marginBottom:12,textTransform:"uppercase"}}>📅 Próximos Lançamentos</div>
          {upcoming.length===0?<div className="empty" style={{padding:"20px 0"}}><span className="empty-icon" style={{fontSize:"1.5rem"}}>🗓️</span>Nenhum.</div>
            :upcoming.map(l=>(
            <div key={l.id} style={{background:"var(--panel)",border:"1px solid var(--border)",borderLeft:"3px solid var(--accent)",padding:"10px 14px",marginBottom:2,display:"flex",alignItems:"center",gap:10}}>
              <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.6rem",color:"var(--accent)",minWidth:32,textAlign:"center",lineHeight:1}}>{new Date(l.date+"T00:00:00").getDate()}</div>
              <div style={{flex:1,minWidth:0}}><div style={{fontWeight:700,fontSize:".9rem"}}>{l.name}</div><div style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)"}}>{l.type}</div></div>
            </div>
          ))}
        </div>
        <div>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--purple)",letterSpacing:3,marginBottom:12,textTransform:"uppercase"}}>🕐 Atividade Recente</div>
          {activityLog.length===0?<div className="empty" style={{padding:"20px 0"}}><span className="empty-icon" style={{fontSize:"1.5rem"}}>📋</span>Sem atividade.</div>
            :activityLog.slice(0,7).map(l=>(
            <div key={l.id} className="log-item">
              <div className="log-dot" style={{background:LOG_COLORS[l.type]||"var(--muted)"}}/>
              <div><div style={{fontSize:".88rem",lineHeight:1.4}}>{l.msg}</div><div style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)",marginTop:3}}>{fmtTime(l.date)}</div></div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}

/* ══════════════════════════════════════
   PRODUCTS ADMIN — Firebase
══════════════════════════════════════ */
function ProductsAdmin({products,onToast,onAddLog}){
  const empty={name:"",cat:"HQ Marvel",price:"",stock:"",maxStock:"",image:null,status:"ok"};
  const [editing,setEditing]=useState(null),[showForm,setShowForm]=useState(false),[form,setForm]=useState(empty),[search,setSearch]=useState("");
  const filtered=products.filter(p=>p.name.toLowerCase().includes(search.toLowerCase())||p.cat.toLowerCase().includes(search.toLowerCase()));

  const openNew=()=>{setEditing(null);setForm(empty);setShowForm(true);};
  const openEdit=p=>{setEditing(p.id);setForm({name:p.name,cat:p.cat,price:p.price,stock:p.stock,maxStock:p.maxStock||p.stock,image:p.image||null,status:p.status});setShowForm(true);};

  const handleSave=async()=>{
    if(!form.name||!form.price) return;
    const data={...form,price:Number(form.price),stock:Number(form.stock),maxStock:Number(form.maxStock)||Number(form.stock)};
    if(editing){
      await fbUpdate("products",editing,data);
      onToast("✅ Produto atualizado!");onAddLog(`Produto editado: ${data.name}`,"produto");
    } else {
      const id=uid();
      await fbAdd("products",{id,...data});
      onToast("✅ Produto adicionado!");onAddLog(`Novo produto: ${data.name}`,"produto");
    }
    setShowForm(false);setEditing(null);
  };

  const handleDelete=async id=>{
    const p=products.find(x=>x.id===id);
    await fbDelete("products",id);
    onToast("🗑️ Produto removido.");onAddLog(`Produto removido: ${p?.name||id}`,"produto");
  };

  const adjustStock=async(id,delta)=>{
    const p=products.find(x=>x.id===id);if(!p) return;
    const ns=Math.max(0,p.stock+delta);
    let st=p.status;
    if(ns===0&&st!=="pre") st="out";
    else if(ns>0&&st==="out") st=ns<=2?"low":"ok";
    else if(ns<=2&&st==="ok") st="low";
    else if(ns>2&&st==="low") st="ok";
    await fbUpdate("products",id,{stock:ns,status:st});
    onToast(`📦 ${p.name}: ${ns} unid.`);
    onAddLog(`Estoque ajustado — ${p.name}: ${p.stock}→${ns}`,"estoque");
  };

  return(
    <div>
      <div className="section-head">
        <div><div className="section-tag">// Admin</div><div className="section-title">Catálogo</div></div>
        <button className="btn-primary" onClick={openNew}>+ Novo Produto</button>
      </div>
      {showForm&&(
        <div className="form-panel">
          <div className="form-title">{editing?"✏️ EDITAR PRODUTO":"✨ NOVO PRODUTO"}</div>
          <div className="form-grid">
            <div className="col-full"><label className="field-label">Nome do Produto</label><input value={form.name} onChange={e=>setForm(f=>({...f,name:e.target.value}))} placeholder="Ex: Batman: Ano Um" className="field-input"/></div>
            <div><label className="field-label">Categoria</label><select value={form.cat} onChange={e=>setForm(f=>({...f,cat:e.target.value}))} className="field-input">{CATS.map(c=><option key={c}>{c}</option>)}</select></div>
            <div><label className="field-label">Status</label><select value={form.status} onChange={e=>setForm(f=>({...f,status:e.target.value}))} className="field-input">{STATUSES.map(st=><option key={st.v} value={st.v}>{st.label}</option>)}</select></div>
            <div><label className="field-label">Preço (R$)</label><input type="number" value={form.price} onChange={e=>setForm(f=>({...f,price:e.target.value}))} placeholder="89" className="field-input"/></div>
            <div><label className="field-label">Estoque Atual</label><input type="number" value={form.stock} onChange={e=>setForm(f=>({...f,stock:e.target.value}))} placeholder="10" className="field-input"/></div>
            <div className="col-full"><label className="field-label">Estoque Máximo (barra visual)</label><input type="number" value={form.maxStock} onChange={e=>setForm(f=>({...f,maxStock:e.target.value}))} placeholder="20" className="field-input"/></div>
            <div className="col-full"><label className="field-label" style={{marginBottom:10}}>📷 Foto do Produto</label><ImagePicker image={form.image} onChange={img=>setForm(f=>({...f,image:img}))}/></div>
          </div>
          <div style={{display:"flex",gap:10,marginTop:20}}>
            <button className="btn-primary" onClick={handleSave}>💾 Salvar</button>
            <button className="btn-ghost" onClick={()=>{setShowForm(false);setEditing(null);}}>Cancelar</button>
          </div>
        </div>
      )}
      <div style={{position:"relative",marginBottom:12}}>
        <input value={search} onChange={e=>setSearch(e.target.value)} placeholder="Buscar produto..." className="field-input" style={{paddingLeft:36,marginBottom:0}}/>
        <span style={{position:"absolute",left:11,top:"50%",transform:"translateY(-50%)",opacity:.4,fontSize:14}}>🔍</span>
      </div>
      {filtered.length===0?<div className="empty"><span className="empty-icon">📦</span>Nenhum produto encontrado.</div>
        :filtered.map(p=>(
        <div key={p.id} className="product-row">
          <ThumbSm image={p.image} cat={p.cat}/>
          <div style={{flex:1,minWidth:0}}>
            <div style={{fontWeight:700,fontSize:".95rem",lineHeight:1.2,marginBottom:5}}>{p.name}</div>
            <div style={{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"}}>
              <span style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.25rem",color:"var(--neon)",lineHeight:1}}>R${p.price}</span>
              <StatusBadge status={p.status}/>
            </div>
            <div style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)",marginTop:3}}>{p.cat}</div>
          </div>
          <div style={{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:6,flexShrink:0}}>
            <div className="stock-controls">
              <button className="btn-stock" onClick={()=>adjustStock(p.id,-1)} disabled={p.stock===0}>−</button>
              <div className="stock-val" style={{color:p.stock===0?"var(--accent)":p.stock<=2?"var(--gold)":"var(--text)"}}>{p.stock}</div>
              <button className="btn-stock" onClick={()=>adjustStock(p.id,1)}>+</button>
            </div>
            <div style={{display:"flex",gap:4}}>
              <button className="btn-sm" onClick={()=>openEdit(p)}>✏️</button>
              <button className="btn-danger" onClick={()=>handleDelete(p.id)}>🗑️</button>
            </div>
          </div>
        </div>
      ))}
    </div>
  );
}

/* ══════════════════════════════════════
   RESERVAS ADMIN — Firebase
══════════════════════════════════════ */
function ReservasAdmin({reservations,wishes,products,onToast}){
  const [filter,setFilter]=useState("pending");
  const sorted=[...reservations].filter(r=>filter==="all"||r.status===filter).sort((a,b)=>new Date(b.date)-new Date(a.date));
  const statusColors={pending:"var(--gold)",confirmed:"var(--green)",done:"var(--muted)",cancelled:"var(--accent)"};
  const statusLabels={pending:"⏳ Pendente",confirmed:"✅ Confirmada",done:"✔️ Concluída",cancelled:"❌ Cancelada"};

  const updateStatus=async(id,status)=>{
    await fbUpdate("reservations",id,{status});
    const msgs={confirmed:"✅ Reserva confirmada!",done:"✔️ Reserva concluída!",cancelled:"❌ Reserva cancelada."};
    onToast(msgs[status]||"Atualizado");
  };
  const openWA=(r)=>{
    const msg=`Olá ${r.name}! 👋 A Multiverso confirma sua reserva de *${r.productName}*. Pode vir buscar! 🎉`;
    window.open(`https://wa.me/55${r.contact.replace(/\D/g,"")}?text=${encodeURIComponent(msg)}`,"_blank");
  };

  const wishesByProduct=useMemo(()=>{
    const map={};wishes.forEach(w=>{if(!map[w.productId]) map[w.productId]=[];map[w.productId].push(w);});return map;
  },[wishes]);
  const outProducts=products.filter(p=>(p.status==="out"||p.status==="pre")&&(wishesByProduct[p.id]||[]).length>0);

  return(
    <div>
      <div className="section-head">
        <div><div className="section-tag">// Admin</div><div className="section-title">Reservas & Espera</div></div>
        <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.8rem",color:"var(--gold)",letterSpacing:2}}>{reservations.filter(r=>r.status==="pending").length} pendentes</div>
      </div>
      <div style={{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"}}>
        {[["pending","⏳ Pendentes"],["confirmed","✅ Confirmadas"],["done","✔️ Concluídas"],["all","Todas"]].map(([v,l])=>(
          <button key={v} className={`nav-tab${filter===v?" active":""}`} onClick={()=>setFilter(v)} style={{fontSize:".58rem",padding:"6px 12px"}}>{l}</button>
        ))}
      </div>
      {sorted.length===0?<div className="empty"><span className="empty-icon">🛒</span>Nenhuma reserva nessa categoria.</div>
        :sorted.map(r=>(
        <div key={r.id} className="reservation-card" style={{borderLeftColor:statusColors[r.status]||"var(--gold)"}}>
          <div style={{display:"flex",alignItems:"flex-start",gap:14,flexWrap:"wrap"}}>
            <div style={{flex:1,minWidth:160}}>
              <div style={{display:"flex",alignItems:"center",gap:8,marginBottom:6,flexWrap:"wrap"}}>
                <span style={{fontWeight:700,fontSize:"1rem"}}>{r.name}</span>
                <span className="res-status" style={{color:statusColors[r.status],borderColor:statusColors[r.status]+"55"}}>{statusLabels[r.status]}</span>
              </div>
              <div style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--neon)",marginBottom:4}}>📦 {r.productName}</div>
              <div style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:r.contactType==="whatsapp"?"#4ade80":"var(--neon)"}}>{r.contactType==="whatsapp"?"📱":"📧"} {r.contact}</div>
              {r.note&&<div style={{fontSize:".82rem",color:"var(--muted)",marginTop:4}}>💬 {r.note}</div>}
              <div style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)",marginTop:6}}>{fmtTime(r.date)}</div>
            </div>
            <div style={{display:"flex",flexDirection:"column",gap:6,flexShrink:0}}>
              {r.status==="pending"&&<>
                <button className="btn-neon" style={{fontSize:".58rem",padding:"7px 12px"}} onClick={()=>updateStatus(r.id,"confirmed")}>✅ Confirmar</button>
                {r.contactType==="whatsapp"&&<button className="btn-whatsapp" onClick={()=>openWA(r)}>💬 WhatsApp</button>}
                <button className="btn-danger" onClick={()=>updateStatus(r.id,"cancelled")}>❌ Cancelar</button>
              </>}
              {r.status==="confirmed"&&<>
                <button className="btn-neon" style={{fontSize:".58rem",padding:"7px 12px"}} onClick={()=>updateStatus(r.id,"done")}>✔️ Concluída</button>
                {r.contactType==="whatsapp"&&<button className="btn-whatsapp" onClick={()=>openWA(r)}>💬 Avisar</button>}
              </>}
            </div>
          </div>
        </div>
      ))}
      {outProducts.length>0&&(
        <div style={{marginTop:36}}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--purple)",letterSpacing:3,marginBottom:16,textTransform:"uppercase"}}>❤️ Lista de Espera por Produto</div>
          {outProducts.map(p=>{const ws=wishesByProduct[p.id]||[];return(
            <div key={p.id} style={{background:"var(--panel)",border:"1px solid var(--border)",borderLeft:"3px solid var(--purple)",padding:"14px 18px",marginBottom:2}}>
              <div style={{display:"flex",alignItems:"center",gap:12,marginBottom:12}}>
                <ThumbSm image={p.image} cat={p.cat}/>
                <div style={{flex:1}}><div style={{fontWeight:700}}>{p.name}</div><div style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--muted)"}}>{p.cat}</div></div>
                <span style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.5rem",color:"var(--purple)"}}>{ws.length} ❤️</span>
              </div>
              {ws.map(w=>(
                <div key={w.id} style={{display:"flex",alignItems:"center",gap:10,padding:"8px 0",borderTop:"1px solid var(--border)",flexWrap:"wrap"}}>
                  <span style={{fontSize:"1rem"}}>{w.contactType==="whatsapp"?"📱":"📧"}</span>
                  <div style={{flex:1,minWidth:120}}><span style={{fontWeight:600}}>{w.name}</span> <span style={{fontFamily:"'Space Mono',monospace",fontSize:".6rem",color:"var(--neon)"}}>{w.contact}</span></div>
                  {w.contactType==="whatsapp"&&(
                    <button className="btn-whatsapp" style={{fontSize:".65rem",padding:"5px 10px"}} onClick={()=>{
                      const msg=`Olá ${w.name}! 👋 O produto *${p.name}* que você estava esperando chegou na Multiverso! 🎉 Corre antes de esgotar!`;
                      window.open(`https://wa.me/55${w.contact.replace(/\D/g,"")}?text=${encodeURIComponent(msg)}`,"_blank");
                    }}>💬 Avisar</button>
                  )}
                </div>
              ))}
            </div>
          );})}
        </div>
      )}
    </div>
  );
}

/* ══════════════════════════════════════
   LAUNCHES ADMIN — Firebase
══════════════════════════════════════ */
function LaunchesAdmin({launches,onToast,onAddLog}){
  const [form,setForm]=useState({name:"",date:"",type:"Mangá",note:""}),[showForm,setShowForm]=useState(false),[search,setSearch]=useState("");
  const sorted=[...launches].sort((a,b)=>new Date(a.date)-new Date(b.date)).filter(l=>l.name.toLowerCase().includes(search.toLowerCase())||l.type.toLowerCase().includes(search.toLowerCase()));
  const handleAdd=async()=>{
    if(!form.name||!form.date) return;
    const id=uid();
    await fbAdd("launches",{id,...form});
    setForm({name:"",date:"",type:"Mangá",note:""});setShowForm(false);
    onToast("✅ Lançamento adicionado!");onAddLog(`Novo lançamento: ${form.name}`,"lancamento");
  };
  const del=async id=>{
    const l=launches.find(x=>x.id===id);
    await fbDelete("launches",id);
    onToast("🗑️ Lançamento removido.");onAddLog(`Lançamento removido: ${l?.name||id}`,"lancamento");
  };
  return(
    <div>
      <div className="section-head">
        <div><div className="section-tag">// Admin</div><div className="section-title">Lançamentos</div></div>
        <button className="btn-primary" onClick={()=>setShowForm(!showForm)}>+ Novo Lançamento</button>
      </div>
      {showForm&&(
        <div className="form-panel">
          <div className="form-title">📅 NOVO LANÇAMENTO</div>
          <div className="form-grid">
            <div className="col-full"><label className="field-label">Nome</label><input value={form.name} onChange={e=>setForm(f=>({...f,name:e.target.value}))} placeholder="Ex: One Piece Vol. 108" className="field-input"/></div>
            <div><label className="field-label">Data</label><input type="date" value={form.date} onChange={e=>setForm(f=>({...f,date:e.target.value}))} className="field-input"/></div>
            <div><label className="field-label">Tipo</label><select value={form.type} onChange={e=>setForm(f=>({...f,type:e.target.value}))} className="field-input">{CATS.map(c=><option key={c}>{c}</option>)}</select></div>
            <div className="col-full"><label className="field-label">Observação (opcional)</label><input value={form.note} onChange={e=>setForm(f=>({...f,note:e.target.value}))} placeholder="Ex: Ed. limitada..." className="field-input"/></div>
          </div>
          <div style={{display:"flex",gap:10,marginTop:16}}>
            <button className="btn-primary" onClick={handleAdd}>💾 Adicionar</button>
            <button className="btn-ghost" onClick={()=>setShowForm(false)}>Cancelar</button>
          </div>
        </div>
      )}
      <div style={{position:"relative",marginBottom:12}}>
        <input value={search} onChange={e=>setSearch(e.target.value)} placeholder="Buscar lançamento..." className="field-input" style={{paddingLeft:36,marginBottom:0}}/>
        <span style={{position:"absolute",left:11,top:"50%",transform:"translateY(-50%)",opacity:.4,fontSize:14}}>🔍</span>
      </div>
      {sorted.length===0?<div className="empty"><span className="empty-icon">🗓️</span>Nenhum lançamento encontrado.</div>
        :sorted.map(l=>{const d=new Date(l.date+"T00:00:00");return(
        <div key={l.id} style={{background:"var(--panel)",border:"1px solid var(--border)",borderLeft:"3px solid var(--accent)",padding:"14px 18px",marginBottom:2,display:"flex",alignItems:"center",gap:18,transition:"background .2s"}}
          onMouseEnter={e=>{e.currentTarget.style.background="var(--card)"}} onMouseLeave={e=>{e.currentTarget.style.background="var(--panel)"}}>
          <div style={{textAlign:"center",minWidth:48}}>
            <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"2.2rem",color:"var(--accent)",lineHeight:1}}>{d.getDate()}</div>
            <div style={{fontFamily:"'Space Mono',monospace",fontSize:".55rem",color:"var(--muted)",letterSpacing:2}}>{d.toLocaleString("pt-BR",{month:"short"}).toUpperCase()}</div>
          </div>
          <div style={{width:1,height:44,background:"var(--border)"}}/>
          <div style={{flex:1,minWidth:0}}>
            <div style={{fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:TYPE_COLOR[l.type]||"var(--neon)",letterSpacing:2,marginBottom:3,textTransform:"uppercase"}}>{l.type}</div>
            <div style={{fontWeight:700}}>{l.name}</div>
            {l.note&&<div style={{fontSize:".8rem",color:"var(--muted)"}}>{l.note}</div>}
          </div>
          <button className="btn-danger" onClick={()=>del(l.id)}>🗑️</button>
        </div>
      );})}
    </div>
  );
}

/* ══════════════════════════════════════
   SUBSCRIBERS ADMIN
══════════════════════════════════════ */
function SubscribersAdmin({subscribers}){
  const [filter,setFilter]=useState("todos");
  const filtered=subscribers.filter(s=>filter==="todos"||s.contactType===filter);
  const waNums=subscribers.filter(s=>s.contactType==="whatsapp").map(s=>s.contact);
  const emails=subscribers.filter(s=>s.contactType==="email").map(s=>s.contact);
  const openWAAll=()=>{
    const msg=`Olá! 👋 A Multiverso tem novidades incríveis esperando por você! Venha nos visitar ou acesse nosso catálogo online. 🎉`;
    window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`,"_blank");
  };
  return(
    <div>
      <div className="section-head">
        <div><div className="section-tag">// Admin</div><div className="section-title">Notificações</div></div>
        <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"1.8rem",color:"var(--accent)",letterSpacing:2}}>{subscribers.length} cadastros</div>
      </div>
      <div style={{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"}}>
        {["todos","whatsapp","email"].map(f=>(
          <button key={f} className={`nav-tab${filter===f?" active":""}`} onClick={()=>setFilter(f)} style={{fontSize:".6rem",padding:"7px 16px"}}>
            {f==="todos"?"Todos":f==="whatsapp"?"📱 WhatsApp":"📧 E-mail"}
          </button>
        ))}
      </div>
      {filtered.length===0?<div className="empty"><span className="empty-icon">🔔</span>Nenhum cadastro ainda.</div>
        :filtered.map(sub=>(
        <div key={sub.id} className="sub-row">
          <span style={{fontSize:"1.5rem"}}>{sub.contactType==="whatsapp"?"📱":"📧"}</span>
          <div style={{flex:1,minWidth:0}}>
            <div style={{fontWeight:700,fontSize:".95rem"}}>{sub.name}</div>
            <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--neon)",marginTop:2}}>{sub.contact}</div>
            {sub.interest&&<div style={{fontSize:".82rem",color:"var(--muted)",marginTop:3}}>💬 {sub.interest}</div>}
          </div>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:"var(--muted)",textAlign:"right",flexShrink:0}}>{fmtDate(sub.date)}</div>
        </div>
      ))}
      {subscribers.length>0&&(
        <div style={{marginTop:24,background:"var(--panel)",border:"1px solid var(--border)",borderLeft:"3px solid var(--neon)",padding:"20px"}}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--neon)",letterSpacing:2,marginBottom:12}}>💡 NOTIFICAR EM MASSA</div>
          <button className="btn-whatsapp" onClick={openWAAll} style={{marginBottom:16}}>💬 Mensagem WhatsApp Genérica</button>
          <p style={{fontSize:".9rem",color:"var(--muted)",lineHeight:1.7,marginBottom:12}}>Ou copie os contatos abaixo:</p>
          {waNums.length>0&&<><div style={{fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:"var(--muted)",letterSpacing:2,marginBottom:6}}>📱 WHATSAPP</div><div className="contacts-box">{waNums.join("\n")}</div></>}
          {emails.length>0&&<><div style={{fontFamily:"'Space Mono',monospace",fontSize:".58rem",color:"var(--muted)",letterSpacing:2,marginBottom:6,marginTop:14}}>📧 E-MAILS</div><div className="contacts-box">{emails.join("\n")}</div></>}
        </div>
      )}
    </div>
  );
}

/* ══════════════════════════════════════
   RELATÓRIO
══════════════════════════════════════ */
function Relatorio({products,subscribers,reservations,wishes}){
  const catCount=useMemo(()=>{
    const m={};
    subscribers.forEach(s=>{if(!s.interest) return;CATS.forEach(c=>{if(s.interest.toLowerCase().includes(c.toLowerCase())) m[c]=(m[c]||0)+1;});});
    wishes.forEach(w=>{const p=products.find(x=>x.id===w.productId);if(p) m[p.cat]=(m[p.cat]||0)+1;});
    reservations.forEach(r=>{if(r.productCat) m[r.productCat]=(m[r.productCat]||0)+1;});
    return Object.entries(m).sort((a,b)=>b[1]-a[1]);
  },[subscribers,wishes,reservations,products]);

  const topWished=useMemo(()=>{
    const m={};wishes.forEach(w=>{m[w.productId]=(m[w.productId]||0)+1;});
    return Object.entries(m).sort((a,b)=>b[1]-a[1]).slice(0,5).map(([id,count])=>{const p=products.find(x=>x.id===id);return{id,name:p?p.name:"Produto removido",count};});
  },[wishes,products]);

  const topReserved=useMemo(()=>{
    const m={};reservations.forEach(r=>{m[r.productId]=(m[r.productId]||0)+1;});
    return Object.entries(m).sort((a,b)=>b[1]-a[1]).slice(0,5).map(([id,count])=>{const p=products.find(x=>x.id===id);return{id,name:p?p.name:reservations.find(r=>r.productId===id)?.productName||"?",count};});
  },[reservations,products]);

  const maxCat=catCount.length>0?catCount[0][1]:1;
  const maxWish=topWished.length>0?topWished[0].count:1;
  const maxRes=topReserved.length>0?topReserved[0].count:1;
  const catColors=["var(--neon)","var(--accent)","var(--gold)","var(--purple)","var(--orange)","var(--green)","#5b9aff"];

  return(
    <div>
      <div className="section-head"><div><div className="section-tag">// Análise</div><div className="section-title">Relatório de Interesse</div></div></div>
      <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:32}}>
        {[{num:subscribers.length,label:"Total de Cadastros",color:"var(--neon)"},{num:reservations.length,label:"Total de Reservas",color:"var(--gold)"},{num:wishes.length,label:"Listas de Espera",color:"var(--purple)"},{num:reservations.filter(r=>r.status==="done").length,label:"Reservas Concluídas",color:"var(--green)"}].map((st,i)=>(
          <div key={i} style={{background:"var(--panel)",border:"1px solid var(--border)",padding:"20px"}}>
            <div className="stat-num" style={{color:st.color}}>{st.num}</div>
            <div className="stat-label">{st.label}</div>
          </div>
        ))}
      </div>
      {catCount.length>0&&(
        <div style={{background:"var(--panel)",border:"1px solid var(--border)",padding:"24px",marginBottom:16}}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--neon)",letterSpacing:3,marginBottom:20,textTransform:"uppercase"}}>📊 Interesse por Categoria</div>
          {catCount.map(([cat,count],i)=>(
            <div key={cat} className="report-bar-row">
              <div className="report-label">{cat}</div>
              <div className="report-bar-bg"><div className="report-bar-fill" style={{width:(count/maxCat*100)+"%",background:catColors[i%catColors.length]}}/></div>
              <div className="report-count">{count}</div>
            </div>
          ))}
        </div>
      )}
      <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}}>
        {topWished.length>0&&(<div style={{background:"var(--panel)",border:"1px solid var(--border)",padding:"24px"}}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--purple)",letterSpacing:3,marginBottom:16,textTransform:"uppercase"}}>❤️ Mais Desejados</div>
          {topWished.map(item=>(
            <div key={item.id} className="report-bar-row">
              <div className="report-label" style={{fontSize:".58rem",minWidth:0,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{item.name}</div>
              <div className="report-bar-bg" style={{minWidth:60}}><div className="report-bar-fill" style={{width:(item.count/maxWish*100)+"%",background:"var(--purple)"}}/></div>
              <div className="report-count">{item.count}</div>
            </div>
          ))}
        </div>)}
        {topReserved.length>0&&(<div style={{background:"var(--panel)",border:"1px solid var(--border)",padding:"24px"}}>
          <div style={{fontFamily:"'Space Mono',monospace",fontSize:".62rem",color:"var(--gold)",letterSpacing:3,marginBottom:16,textTransform:"uppercase"}}>🛒 Mais Reservados</div>
          {topReserved.map(item=>(
            <div key={item.id} className="report-bar-row">
              <div className="report-label" style={{fontSize:".58rem",minWidth:0,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{item.name}</div>
              <div className="report-bar-bg" style={{minWidth:60}}><div className="report-bar-fill" style={{width:(item.count/maxRes*100)+"%",background:"var(--gold)"}}/></div>
              <div className="report-count">{item.count}</div>
            </div>
          ))}
        </div>)}
      </div>
      {catCount.length===0&&topWished.length===0&&topReserved.length===0&&(
        <div className="empty"><span className="empty-icon">📈</span>Nenhum dado ainda.<br/>Os relatórios aparecem conforme os clientes interagem.</div>
      )}
    </div>
  );
}

/* ══════════════════════════════════════
   APP ROOT — Firebase listeners
══════════════════════════════════════ */
function App(){
  const [view,setView]=useState("customer"),[isAuth,setIsAuth]=useState(false);
  const [theme,setTheme]=useState(()=>{try{return localStorage.getItem("mv-theme")||"dark"}catch{return "dark"}});
  const [loading,setLoading]=useState(true),[synced,setSynced]=useState(true);
  const [authChecked,setAuthChecked]=useState(false);

  // Firebase Auth — detecta sessão ativa automaticamente
  useEffect(()=>{
    if(!window.auth) return setAuthChecked(true);
    const unsub=window.auth.onAuthStateChanged(user=>{
      if(user){setIsAuth(true);setView(v=>v==="adminLogin"?"admin":v);}
      else{setIsAuth(false);}
      setAuthChecked(true);
    });
    return()=>unsub();
  },[]);
  const [products,setProducts]=useState([]);
  const [launches,setLaunches]=useState([]);
  const [subscribers,setSubscribers]=useState([]);
  const [reservations,setReservations]=useState([]);
  const [wishes,setWishes]=useState([]);
  const [activityLog,setActivityLog]=useState([]);
  const [toasts,setToasts]=useState([]);
  const loadedRef=useRef(0);

  const checkAllLoaded=()=>{
    loadedRef.current+=1;
    if(loadedRef.current>=6) setLoading(false);
  };

  useEffect(()=>{
    const unsubs=[];

    // Products
    unsubs.push(col("products").onSnapshot(snap=>{
      const data=snap.docs.map(d=>d.data());
      if(snap.docs.length===0&&loadedRef.current===0){
        INIT_PRODUCTS.forEach(p=>fbAdd("products",p));
      }
      setProducts(data);setSynced(true);checkAllLoaded();
    },()=>{setSynced(false);checkAllLoaded();}));

    // Launches
    unsubs.push(col("launches").onSnapshot(snap=>{
      const data=snap.docs.map(d=>d.data());
      if(snap.docs.length===0&&loadedRef.current===0){
        INIT_LAUNCHES.forEach(l=>fbAdd("launches",l));
      }
      setLaunches(data);checkAllLoaded();
    },()=>checkAllLoaded()));

    // Subscribers
    unsubs.push(col("subscribers").onSnapshot(snap=>{
      setSubscribers(snap.docs.map(d=>d.data()));checkAllLoaded();
    },()=>checkAllLoaded()));

    // Reservations
    unsubs.push(col("reservations").onSnapshot(snap=>{
      setReservations(snap.docs.map(d=>d.data()));checkAllLoaded();
    },()=>checkAllLoaded()));

    // Wishes
    unsubs.push(col("wishes").onSnapshot(snap=>{
      setWishes(snap.docs.map(d=>d.data()));checkAllLoaded();
    },()=>checkAllLoaded()));

    // Activity Log (ordered by date desc, limit 50)
    unsubs.push(col("activityLog").orderBy("date","desc").limit(50).onSnapshot(snap=>{
      setActivityLog(snap.docs.map(d=>d.data()));checkAllLoaded();
    },()=>checkAllLoaded()));

    return()=>unsubs.forEach(u=>u());
  },[]);

  const showToast=(msg,color="#4ade80")=>setToasts(t=>[...t,{id:uid(),msg,color}]);
  const removeToast=id=>setToasts(t=>t.filter(x=>x.id!==id));

  const addLog=useCallback(async(msg,type="sistema")=>{
    const entry={id:uid(),msg,type,date:new Date().toISOString()};
    await fbAdd("activityLog",entry);
  },[]);

  const addSubscriber=useCallback(async sub=>{
    await fbAdd("subscribers",sub);
    await addLog(`Novo cadastro: ${sub.name} (${sub.contactType})`,"cadastro");
    showToast("✅ Cadastro realizado!");
  },[]);

  const addReservation=useCallback(async r=>{
    await fbAdd("reservations",r);
    await addLog(`Nova reserva: ${r.name} — ${r.productName}`,"reserva");
    showToast("🛒 Reserva enviada!");
  },[]);

  const addWish=useCallback(async w=>{
    await fbAdd("wishes",w);
    await addLog(`Lista de espera: ${w.name} — ${w.productName}`,"cadastro");
    showToast("❤️ Adicionado à lista de espera!");
  },[]);

  // Se Firebase não configurado, mostra tela de setup em vez de tela preta
  if (!FB_CONFIGURED) return <SetupScreen/>;
  if (!authChecked) return <div className="loading-screen"><div className="spinner"/></div>;

  if(loading){
    return(
      <div className="loading-screen">
        <div style={{fontFamily:"'Bebas Neue',sans-serif",fontSize:"4.5rem",letterSpacing:6,background:"linear-gradient(135deg,#6ED741 0%,#A8FF3E 60%,#FFD600 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}}>MULTIVERSO</div>
        <div className="spinner"/>
        <div style={{fontFamily:"'Space Mono',monospace",fontSize:"1rem",color:"var(--muted)",letterSpacing:4}}>Conectando ao banco de dados...</div>
      </div>
    );
  }

  return(
    <div style={{fontFamily:"'Rajdhani',sans-serif",background:"var(--void)",color:"var(--text)",minHeight:"100vh",overflowX:"hidden"}}>
      <nav className="nav">
        <div className="logo" onClick={()=>setView("customer")}>MULTI<span className="logo-gold">VERSO</span></div>
        <div style={{display:"flex",gap:6,alignItems:"center"}}>
          <ThemePicker theme={theme} setTheme={setTheme}/>
          <button className={`nav-tab${view==="customer"?" active":""}`} onClick={()=>setView("customer")}>🏠 Loja</button>
          {!isAuth
            ?<button className={`nav-tab${view==="adminLogin"?" active":""}`} onClick={()=>setView("adminLogin")}>🔒 Admin</button>
            :<button className={`nav-tab${view==="admin"?" active":""}`} onClick={()=>setView("admin")}>⚙️ Painel</button>
          }
        </div>
      </nav>

      {view==="customer"   && <CustomerPage products={products} launches={launches} reservations={reservations} wishes={wishes} onReserve={addReservation} onWish={addWish} onNotifySignup={addSubscriber}/>}
      {view==="adminLogin" && !isAuth && <AdminLogin onLogin={()=>{setIsAuth(true);setView("admin");addLog("Login no painel admin","sistema");}}/>}
      {view==="admin"      && isAuth  && (
        <AdminPanel
          products={products} launches={launches} subscribers={subscribers}
          reservations={reservations} wishes={wishes} activityLog={activityLog}
          synced={synced}
          onLogout={()=>{if(window.auth) window.auth.signOut();setIsAuth(false);setView("customer");}}
          onToast={showToast} onAddLog={addLog}
        />
      )}
      {toasts.map(t=><Toast key={t.id} msg={t.msg} color={t.color} onClose={()=>removeToast(t.id)}/>)}
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
